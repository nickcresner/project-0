"use strict";$(function(){console.log("JS Loaded");var o=$(".map"),t=$(".welcome"),n=$(".quiz-select"),e=$(".chosen-quiz"),a=$(".start-game-button"),i=$(".question"),c=$(".round-question"),l=$(".start-round-button"),s=$(".player-one-flag"),r=$(".player-two-flag"),u=$(".player-twos-turn"),g=$(".player-twos-turn-button"),y=$(".answer-location"),h=$(".end-of-round"),L=$(".p1-distance-away"),m=$(".p2-distance-away"),d=$(".player-1-score"),p=$(".player-2-score"),x=$(".next-round-button"),f=$(".end-of-game"),w=$(".p1-overall-distance-from-targets"),q=$(".p2-overall-distance-from-targets"),k=$(".winner"),v=$(".play-again-button"),M=0,S=null,C=0,T=0,b=0,P=0,F=!0,G=0,B=0,z=0,A=0,O=0,V=!1,X=0,Y=0,H=0,I=0,J="",K={easy:[{name:"The O2 Centre",xLocation:82,yLocation:58},{name:"Buckingham Palace",xLocation:29,yLocation:60},{name:"Kings Cross Station",xLocation:37,yLocation:30},{name:"General Assembly",xLocation:54,yLocation:45},{name:"Big Ben",xLocation:36,yLocation:61}],medium:[{name:"Lord's Cricket Ground",xLocation:19,yLocation:32},{name:"Chelsea FC",xLocation:11,yLocation:81},{name:"Charlton FC",xLocation:95,yLocation:76},{name:"Lee Valley Velodrome",xLocation:74,yLocation:12}],hard:[{name:"Baker Street Station",xLocation:25,yLocation:38},{name:"Green Park Station",xLocation:29,yLocation:54},{name:"Farringdon Station",xLocation:43,yLocation:41},{name:"Angel Station",xLocation:43,yLocation:29},{name:"Camden Town Station",xLocation:28,yLocation:22}],veryHard:[{name:"Granary Square",xLocation:36,yLocation:26},{name:"Finsbury Square",xLocation:50,yLocation:40},{name:"Grosvenor Square",xLocation:26,yLocation:49},{name:"Lincoln Inn's Fields",xLocation:39,yLocation:45},{name:"Russell Square",xLocation:35,yLocation:39}]},R=0;setTimeout(function(){t.show(),n.on("change",function(o){M=$(o.target).val();var t=$(".quiz-select option[value="+M+"]").html();e.text(t),R=K[M],console.log(M)})},1e3),a.on("click",function(){console.log(t),t.hide(),S=R[G].name,setTimeout(function(){c.text(S),console.log(S),i.show()},250)}),l.on("click",function(){i.hide(),V=!0}),o.on("click",function(t){if(!0===V)if(!0===F){C=t.pageX-$(t.target).position().left,T=t.pageY-$(t.target).position().top;var n=C/o.width()*100,e=T/o.height()*100;console.log(n),console.log(e),console.log("questions array [0]",R[0]);var a=n-R[G].xLocation,i=e-R[G].yLocation;B=Math.floor(Math.sqrt(Math.pow(a,2)+Math.pow(i,2))),s.css({left:n+"%",top:e+"%",display:"inline"}),u.show(),V=!1,F=!1}else if(!1===F){b=t.pageX-$(t.target).position().left,P=t.pageY-$(t.target).position().top;var c=Math.round(b/o.width()*100),l=Math.round(P/o.height()*100);console.log(c),console.log(l);var g=c-R[G].xLocation,x=l-R[G].yLocation;z=Math.floor(Math.sqrt(Math.pow(g,2)+Math.pow(x,2))),r.css({left:c+"%",top:l+"%",display:"inline"}),B<z?(console.log("player 1 wins this round!"),X++):B===z?console.log("its a tie!"):(console.log("player 2 wins this round!"),Y++),A=1e3/6*B,O=1e3/6*z,console.log("Player 1 clicked "+A+"m away from the target"),console.log("Player 2 clicked "+O+"m away from the target"),setTimeout(function(){y.css({left:R[G].xLocation-$(t.target).position().left+"%",top:R[G].yLocation-$(t.target).position().top+"%",display:"inline"})},1e3),setTimeout(function(){V=!1,h.show(),A=Math.round(A),O=Math.round(O),console.log(A),console.log(O),H+=A,I+=O,L.html(A),m.html(O),d.text(X),p.text(Y),w.text(H),q.text(I)},2e3)}}),g.on("click",function(){V=!0,u.hide()}),x.on("click",function(){h.hide(),y.hide(),s.hide(),r.hide(),console.log("questionsArray length"+R.length),G++,G>=R.length?(console.log("end game sequence"),f.show(),d.text(X),p.text(Y),w.text(H),q.text(I),J=X>Y?"Player One":"Player Two",k.text(J),v.on("click",function(){f.hide(),t.show()})):(console.log(G),S=R[G].name,F=!0,c.text(S),setTimeout(function(){i.css({display:"inline"})},250))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiY29uc29sZSIsImxvZyIsIiRtYXAiLCIkcXVpelNlbGVjdCIsIiR3ZWxjb21lIiwiJGNob3NlblF1aXoiLCIkc3RhcnRHYW1lQnV0dG9uIiwiJHF1ZXN0aW9uIiwiJHJvdW5kUXVlc3Rpb24iLCIkc3RhcnRSb3VuZEJ1dHRvbiIsIiRwbGF5ZXIxRmxhZyIsIiRwbGF5ZXIyRmxhZyIsIiRwbGF5ZXIyc1R1cm4iLCIkcGxheWVyMnNUdXJuQnV0dG9uIiwiJGFuc3dlckxvY2F0aW9uIiwiJGVuZE9mUm91bmQiLCIkcDFEaXN0YW5jZUF3YXkiLCIkcDJEaXN0YW5jZUF3YXkiLCIkcGxheWVyMVNjb3JlIiwiJHBsYXllcjJTY29yZSIsIiRuZXh0Um91bmRCdXR0b24iLCIkZW5kT2ZHYW1lIiwiJHAxT3ZlcmFsbERpc3RhbmNlIiwiJHAyT3ZlcmFsbERpc3RhbmNlIiwiZGlmZmljdWx0eSIsInJvdW5kUXVlc3Rpb25OYW1lIiwicGxheWVyMUNsaWNrWCIsInBsYXllcjFDbGlja1kiLCJwbGF5ZXIyQ2xpY2tYIiwicGxheWVyMkNsaWNrWSIsInJvdW5kTnVtYmVyIiwicGxheWVyMUh5cG90ZW51c2UiLCJwbGF5ZXIySHlwb3RlbnVzZSIsInBsYXllcjFEaXN0YW5jZUZyb21UYXJnZXRJbk0iLCJwbGF5ZXIyRGlzdGFuY2VGcm9tVGFyZ2V0SW5NIiwibWFwUGxheWFibGUiLCJwbGF5ZXJUd29TY29yZSIsInBsYXllclR3b092ZXJhbGxEaXN0YW5jZSIsIndpbm5lciIsInF1ZXN0aW9uc09iamVjdCIsIm5hbWUiLCJ5TG9jYXRpb24iLCJ4TG9jYXRpb24iLCJoYXJkIiwidmVyeUhhcmQiLCJxdWVzdGlvbnNBcnJheSIsImNob3NlbkRpZmZpY3VsdHkiLCJ0ZXh0Iiwic2V0VGltZW91dCIsInNob3ciLCJvbiIsImUiLCJ0YXJnZXQiLCJ2YWwiLCJodG1sIiwicGxheWVyMWRpc3RhbmNlVG9UYXJnZXRYIiwicGxheWVyMWRpc3RhbmNlVG9UYXJnZXRZIiwiY3NzIiwiaGlkZSIsInBsYXllcjFDbGlja1lQZXJjZW50T2ZXaW5kb3ciLCJwbGF5ZXIxVHVybiIsInBsYXllcjJDbGlja1lQZXJjZW50T2ZXaW5kb3ciLCJsZWZ0IiwicGFnZVkiLCJwb3NpdGlvbiIsInRvcCIsInBsYXllcjJkaXN0YW5jZVRvVGFyZ2V0WCIsInBsYXllcjJDbGlja1hQZXJjZW50T2ZXaW5kb3ciLCJoZWlnaHQiLCJwbGF5ZXIxQ2xpY2tYUGVyY2VudE9mV2luZG93IiwiTWF0aCIsImZsb29yIiwic3FydCIsInBvdyIsInBhZ2VYIiwicm91bmQiLCJ3aWR0aCIsInBsYXllcjJkaXN0YW5jZVRvVGFyZ2V0WSIsInBsYXllck9uZVNjb3JlIiwiJHdpbm5lciIsInBsYXllck9uZU92ZXJhbGxEaXN0YW5jZSIsImxlbmd0aCIsIiRwbGF5QWdhaW5CdXR0b24iLCJkaXNwbGF5Il0sIm1hcHBpbmdzIjoiWUFBQUEsR0FBRSxXQUNBQyxRQUFRQyxJQUFJLFlBQVpELElBQUFBLEdBQVlELEVBQUEsUUFFTkcsRUFBU0gsRUFBRixZQUdQSSxFQUFjSixFQUFFLGdCQURoQkssRUFBYUwsRUFBQSxnQkFDYkksRUFBZ0JKLEVBQUEsc0JBQ2hCTSxFQUFjTixFQUFFLGFBQ2hCTyxFQUFtQlAsRUFBRSxtQkFDckJRLEVBQWNSLEVBQUEsdUJBQ2RTLEVBQWlCVCxFQUFFLG9CQUNuQlUsRUFBQUEsRUFBQUEsb0JBQ0FDLEVBQWlCWCxFQUFBLHFCQUNqQlksRUFBaUJaLEVBQUEsNEJBQ2pCYSxFQUFrQmIsRUFBQSxvQkFDbEJjLEVBQUFBLEVBQUFBLGlCQUNBQyxFQUFvQmYsRUFBQSxxQkFDcEJnQixFQUFnQmhCLEVBQUEscUJBQ2hCaUIsRUFBa0JqQixFQUFFLG1CQUNwQmtCLEVBQWtCbEIsRUFBRSxtQkFDcEJtQixFQUFrQm5CLEVBQUEsc0JBQ2xCb0IsRUFBQUEsRUFBZ0JwQixnQkFDaEJxQixFQUFxQnJCLEVBQUEscUNBQ3JCc0IsRUFBZXRCLEVBQUEscUNBQ2Z1QixFQUFB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LEVBQWVmLEdBQWFVLEtBQ2hEb0IsR0FBYyxFQUNkcEQsRUFBZXVDLEtBQUt0QixHQUVwQnVCLFdBQVksV0FDVnpDLEVBQVVrRCxLQUNSMEIsUUFBVyxZQUVaIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBjb25zb2xlLmxvZygnSlMgTG9hZGVkJyk7XG5cbiAgY29uc3QgJG1hcCA9ICQoJy5tYXAnKTtcblxuICBjb25zdCAkd2VsY29tZSA9ICQoJy53ZWxjb21lJyk7XG4gIGNvbnN0ICRxdWl6U2VsZWN0ID0gJCgnLnF1aXotc2VsZWN0Jyk7XG4gIGNvbnN0ICRjaG9zZW5RdWl6ID0gJCgnLmNob3Nlbi1xdWl6Jyk7XG4gIGNvbnN0ICRzdGFydEdhbWVCdXR0b24gPSAkKCcuc3RhcnQtZ2FtZS1idXR0b24nKTtcbiAgY29uc3QgJHF1ZXN0aW9uID0gJCgnLnF1ZXN0aW9uJyk7XG4gIGNvbnN0ICRyb3VuZFF1ZXN0aW9uID0gJCgnLnJvdW5kLXF1ZXN0aW9uJyk7XG4gIGNvbnN0ICRzdGFydFJvdW5kQnV0dG9uID0gJCgnLnN0YXJ0LXJvdW5kLWJ1dHRvbicpO1xuICBjb25zdCAkcGxheWVyMUZsYWcgPSAkKCcucGxheWVyLW9uZS1mbGFnJyk7XG4gIGNvbnN0ICRwbGF5ZXIyRmxhZyA9ICQoJy5wbGF5ZXItdHdvLWZsYWcnKTtcbiAgY29uc3QgJHBsYXllcjJzVHVybiA9ICQoJy5wbGF5ZXItdHdvcy10dXJuJyk7XG4gIGNvbnN0ICRwbGF5ZXIyc1R1cm5CdXR0b24gPSAkKCcucGxheWVyLXR3b3MtdHVybi1idXR0b24nKTtcbiAgY29uc3QgJGFuc3dlckxvY2F0aW9uID0gJCgnLmFuc3dlci1sb2NhdGlvbicpO1xuICBjb25zdCAkZW5kT2ZSb3VuZCA9ICQoJy5lbmQtb2Ytcm91bmQnKTtcbiAgY29uc3QgJHAxRGlzdGFuY2VBd2F5ID0gJCgnLnAxLWRpc3RhbmNlLWF3YXknKTtcbiAgY29uc3QgJHAyRGlzdGFuY2VBd2F5ID0gJCgnLnAyLWRpc3RhbmNlLWF3YXknKTtcbiAgY29uc3QgJHBsYXllcjFTY29yZSA9ICQoJy5wbGF5ZXItMS1zY29yZScpO1xuICBjb25zdCAkcGxheWVyMlNjb3JlID0gJCgnLnBsYXllci0yLXNjb3JlJyk7XG4gIGNvbnN0ICRuZXh0Um91bmRCdXR0b24gPSAkKCcubmV4dC1yb3VuZC1idXR0b24nKTtcbiAgY29uc3QgJGVuZE9mR2FtZSA9ICQoJy5lbmQtb2YtZ2FtZScpO1xuICBjb25zdCAkcDFPdmVyYWxsRGlzdGFuY2UgPSAkKCcucDEtb3ZlcmFsbC1kaXN0YW5jZS1mcm9tLXRhcmdldHMnKTtcbiAgY29uc3QgJHAyT3ZlcmFsbERpc3RhbmNlID0gJCgnLnAyLW92ZXJhbGwtZGlzdGFuY2UtZnJvbS10YXJnZXRzJyk7XG4gIGNvbnN0ICR3aW5uZXIgPSAkKCcud2lubmVyJyk7XG4gIGNvbnN0ICRwbGF5QWdhaW5CdXR0b24gPSAkKCcucGxheS1hZ2Fpbi1idXR0b24nKTtcblxuXG5cbiAgbGV0IGRpZmZpY3VsdHkgPSAwO1xuICBsZXQgcm91bmRRdWVzdGlvbk5hbWUgPSBudWxsO1xuXG4gIGxldCBwbGF5ZXIxQ2xpY2tYID0gMDtcbiAgbGV0IHBsYXllcjFDbGlja1kgPSAwO1xuICBsZXQgcGxheWVyMkNsaWNrWCA9IDA7XG4gIGxldCBwbGF5ZXIyQ2xpY2tZID0gMDtcblxuXG4gIGxldCBwbGF5ZXIxVHVybiA9IHRydWU7XG4gIGxldCByb3VuZE51bWJlciA9IDA7XG4gIGxldCBwbGF5ZXIxSHlwb3RlbnVzZSA9IDA7XG4gIGxldCBwbGF5ZXIySHlwb3RlbnVzZSA9IDA7XG4gIGxldCBwbGF5ZXIxRGlzdGFuY2VGcm9tVGFyZ2V0SW5NID0gMDtcbiAgbGV0IHBsYXllcjJEaXN0YW5jZUZyb21UYXJnZXRJbk0gPSAwO1xuICBsZXQgbWFwUGxheWFibGUgPSBmYWxzZTtcblxuICBsZXQgcGxheWVyT25lU2NvcmUgPSAwO1xuICBsZXQgcGxheWVyVHdvU2NvcmUgPSAwO1xuXG4gIGxldCBwbGF5ZXJPbmVPdmVyYWxsRGlzdGFuY2UgPSAwO1xuICBsZXQgcGxheWVyVHdvT3ZlcmFsbERpc3RhbmNlID0gMDtcblxuICBsZXQgd2lubmVyID0gJyc7XG5cblxuXG5cblxuICAvL1F1ZXN0aW9ucyBhbmQgUm91bmRzXG5cbi8vRWFzeSBxdWl6XG4gIGNvbnN0IHF1ZXN0aW9uc09iamVjdCA9IHtcbiAgICBlYXN5OiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdUaGUgTzIgQ2VudHJlJyxcbiAgICAgICAgeExvY2F0aW9uOiA4MixcbiAgICAgICAgeUxvY2F0aW9uOiA1OFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0J1Y2tpbmdoYW0gUGFsYWNlJyxcbiAgICAgICAgeExvY2F0aW9uOiAyOSxcbiAgICAgICAgeUxvY2F0aW9uOiA2MFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0tpbmdzIENyb3NzIFN0YXRpb24nLFxuICAgICAgICB4TG9jYXRpb246IDM3LFxuICAgICAgICB5TG9jYXRpb246IDMwXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnR2VuZXJhbCBBc3NlbWJseScsXG4gICAgICAgIHhMb2NhdGlvbjogNTQsXG4gICAgICAgIHlMb2NhdGlvbjogNDVcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdCaWcgQmVuJyxcbiAgICAgICAgeExvY2F0aW9uOiAzNixcbiAgICAgICAgeUxvY2F0aW9uOiA2MVxuICAgICAgfVxuICAgIF0sXG4gICAgbWVkaXVtOiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdMb3JkXFwncyBDcmlja2V0IEdyb3VuZCcsXG4gICAgICAgIHhMb2NhdGlvbjogMTksXG4gICAgICAgIHlMb2NhdGlvbjogMzJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdDaGVsc2VhIEZDJyxcbiAgICAgICAgeExvY2F0aW9uOiAxMSxcbiAgICAgICAgeUxvY2F0aW9uOiA4MVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0NoYXJsdG9uIEZDJyxcbiAgICAgICAgeExvY2F0aW9uOiA5NSxcbiAgICAgICAgeUxvY2F0aW9uOiA3NlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0xlZSBWYWxsZXkgVmVsb2Ryb21lJyxcbiAgICAgICAgeExvY2F0aW9uOiA3NCxcbiAgICAgICAgeUxvY2F0aW9uOiAxMlxuICAgICAgfVxuICAgIF0sXG4gICAgaGFyZDogW1xuICAgICAge1xuICAgICAgICBuYW1lOiAnQmFrZXIgU3RyZWV0IFN0YXRpb24nLFxuICAgICAgICB4TG9jYXRpb246IDI1LFxuICAgICAgICB5TG9jYXRpb246IDM4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnR3JlZW4gUGFyayBTdGF0aW9uJyxcbiAgICAgICAgeExvY2F0aW9uOiAyOSxcbiAgICAgICAgeUxvY2F0aW9uOiA1NFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0ZhcnJpbmdkb24gU3RhdGlvbicsXG4gICAgICAgIHhMb2NhdGlvbjogNDMsXG4gICAgICAgIHlMb2NhdGlvbjogNDFcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdBbmdlbCBTdGF0aW9uJyxcbiAgICAgICAgeExvY2F0aW9uOiA0MyxcbiAgICAgICAgeUxvY2F0aW9uOiAyOVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0NhbWRlbiBUb3duIFN0YXRpb24nLFxuICAgICAgICB4TG9jYXRpb246IDI4LFxuICAgICAgICB5TG9jYXRpb246IDIyXG4gICAgICB9XG4gICAgXSxcbiAgICB2ZXJ5SGFyZDogW1xuICAgICAge1xuICAgICAgICBuYW1lOiAnR3JhbmFyeSBTcXVhcmUnLFxuICAgICAgICB4TG9jYXRpb246IDM2LFxuICAgICAgICB5TG9jYXRpb246IDI2XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnRmluc2J1cnkgU3F1YXJlJyxcbiAgICAgICAgeExvY2F0aW9uOiA1MCxcbiAgICAgICAgeUxvY2F0aW9uOiA0MFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0dyb3N2ZW5vciBTcXVhcmUnLFxuICAgICAgICB4TG9jYXRpb246IDI2LFxuICAgICAgICB5TG9jYXRpb246IDQ5XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnTGluY29sbiBJbm5cXCdzIEZpZWxkcycsXG4gICAgICAgIHhMb2NhdGlvbjogMzksXG4gICAgICAgIHlMb2NhdGlvbjogNDVcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdSdXNzZWxsIFNxdWFyZScsXG4gICAgICAgIHhMb2NhdGlvbjogMzUsXG4gICAgICAgIHlMb2NhdGlvbjogMzlcbiAgICAgIH1cbiAgICBdXG4gIH07XG5cbi8vIHdoaWNoIHNldCBvZiBxdWVzdGlvbnMgdG8gdXNlP1xuXG4gIGxldCBxdWVzdGlvbnNBcnJheSA9IDA7XG5cbiAgLy9HZXQgdGhlIG5hbWUgb2YgdGhlIGxhbmRtYXJrIGZvciBlYWNoIHF1ZXN0aW9uXG5cblxuICAvL3dlbGNvbWUgcGFnZVxuXG5cbiAgc2V0VGltZW91dCgoKSA9PiB7XG5cblxuXG5cbiAgICAkd2VsY29tZS5zaG93KCk7XG4gICAgJHF1aXpTZWxlY3Qub24oJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBkaWZmaWN1bHR5ID0gJChlLnRhcmdldCkudmFsKCk7XG5cbiAgICAgIGNvbnN0IGNob3NlbkRpZmZpY3VsdHkgPSAkKGAucXVpei1zZWxlY3Qgb3B0aW9uW3ZhbHVlPSR7ZGlmZmljdWx0eX1dYCkuaHRtbCgpO1xuXG4gICAgICAkY2hvc2VuUXVpei50ZXh0KGNob3NlbkRpZmZpY3VsdHkpO1xuXG4gICAgICBxdWVzdGlvbnNBcnJheSA9IHF1ZXN0aW9uc09iamVjdFtkaWZmaWN1bHR5XTtcblxuICAgICAgLy8gJG1hcC5hZGRDbGFzcyh2YWx1ZSBmcm9tIGRyb3AgZG93bilcblxuICAgICAgY29uc29sZS5sb2coZGlmZmljdWx0eSk7XG5cbiAgICB9KTtcbiAgfSwgMTAwMCk7XG5cbiAgLy9jbGljayBzdGFydCBnYW1lIGJ1dHRvbiB0byBoaWRlIHRoZSB3ZWxjb21lIGRpdiBhbmQgc2hvdyB0aGUgZmlyc3QgcXVlc3Rpb25cblxuICAkc3RhcnRHYW1lQnV0dG9uLm9uKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygkd2VsY29tZSk7XG4gICAgJHdlbGNvbWUuaGlkZSgpO1xuXG4gICAgcm91bmRRdWVzdGlvbk5hbWUgPSBxdWVzdGlvbnNBcnJheVtyb3VuZE51bWJlcl0ubmFtZTtcblxuXG5cblxuICAgIC8vIHF1ZXN0aW9uIGRpdiBwb3BzIHVwXG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vZ2V0IHRoZSBuYW1lIG9mIHRoZSBsYW5kbWFyayBmcm9tIHRoZSBuYW1lIHZhbHVlIGluIHRoZSBvYmplY3QgaW4gdGhlIGFycmF5LlxuICAgICAgJHJvdW5kUXVlc3Rpb24udGV4dChyb3VuZFF1ZXN0aW9uTmFtZSk7XG4gICAgICBjb25zb2xlLmxvZyhyb3VuZFF1ZXN0aW9uTmFtZSk7XG4gICAgICAkcXVlc3Rpb24uc2hvdygpO1xuICAgIH0sIDI1MCk7XG4gIH0pO1xuXG5cbiAgLy9IaWRlIHF1ZXN0aW9uIGRpdlxuICAkc3RhcnRSb3VuZEJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJHF1ZXN0aW9uLmhpZGUoKTtcbiAgICBtYXBQbGF5YWJsZSA9IHRydWU7XG4gIH0pO1xuXG5cblxuXG5cblxuICAvL1BsYXllcjFDbGljayBFdmVudFxuXG5cblxuXG4gICRtYXAub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICBpZiAobWFwUGxheWFibGUgPT09IHRydWUpIHtcblxuICAgICAgaWYgKHBsYXllcjFUdXJuID09PSB0cnVlKSB7XG5cbiAgICAgICAgLy9maW5kIGNsaWNrIGNvb3JkaW5hdGVzIGluIHBpeGVsc1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhlLnBhZ2VYKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZS5wYWdlWSk7XG4gICAgICAgIHBsYXllcjFDbGlja1ggPSBlLnBhZ2VYIC0gJChlLnRhcmdldCkucG9zaXRpb24oKS5sZWZ0O1xuICAgICAgICBwbGF5ZXIxQ2xpY2tZID0gZS5wYWdlWSAtICQoZS50YXJnZXQpLnBvc2l0aW9uKCkudG9wO1xuXG4gICAgICAgIC8vY29udmVydCBwYWdlWCBhbmQgcGFnZVkgcGl4ZWxzIHRvIHBlcmNlbnRhZ2Ugb2YgcGFnZVxuICAgICAgICBjb25zdCBwbGF5ZXIxQ2xpY2tYUGVyY2VudE9mV2luZG93ID0gKHBsYXllcjFDbGlja1ggLyAkbWFwLndpZHRoKCkpKjEwMDtcbiAgICAgICAgY29uc3QgcGxheWVyMUNsaWNrWVBlcmNlbnRPZldpbmRvdyA9IChwbGF5ZXIxQ2xpY2tZIC8gJG1hcC5oZWlnaHQoKSkqMTAwO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKHBsYXllcjFDbGlja1hQZXJjZW50T2ZXaW5kb3cpO1xuICAgICAgICBjb25zb2xlLmxvZyhwbGF5ZXIxQ2xpY2tZUGVyY2VudE9mV2luZG93KTtcblxuXG4gICAgICAgIC8vRGlzdGFuY2UgdG8gdGFyZ2V0XG4gICAgICAgIGNvbnNvbGUubG9nKCdxdWVzdGlvbnMgYXJyYXkgWzBdJywgcXVlc3Rpb25zQXJyYXlbMF0pO1xuICAgICAgICBjb25zdCBwbGF5ZXIxZGlzdGFuY2VUb1RhcmdldFggPSAgcGxheWVyMUNsaWNrWFBlcmNlbnRPZldpbmRvdyAtIHF1ZXN0aW9uc0FycmF5W3JvdW5kTnVtYmVyXS54TG9jYXRpb247XG5cblxuICAgICAgICBjb25zdCBwbGF5ZXIxZGlzdGFuY2VUb1RhcmdldFkgPSBwbGF5ZXIxQ2xpY2tZUGVyY2VudE9mV2luZG93IC0gcXVlc3Rpb25zQXJyYXlbcm91bmROdW1iZXJdLnlMb2NhdGlvbjtcblxuXG4gICAgICAgIHBsYXllcjFIeXBvdGVudXNlID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoTWF0aC5wb3cocGxheWVyMWRpc3RhbmNlVG9UYXJnZXRYLCAyKSArIE1hdGgucG93KHBsYXllcjFkaXN0YW5jZVRvVGFyZ2V0WSwgMikpKTtcblxuXG4vL2FkZCBwbGF5ZXIgb25lIGZsYWdcblxuICAgICAgICAkcGxheWVyMUZsYWcuY3NzKHtcbiAgICAgICAgICAnbGVmdCc6IHBsYXllcjFDbGlja1hQZXJjZW50T2ZXaW5kb3cgKyAnJScsXG4gICAgICAgICAgJ3RvcCc6IHBsYXllcjFDbGlja1lQZXJjZW50T2ZXaW5kb3cgKyAnJScsXG4gICAgICAgICAgJ2Rpc3BsYXknOiAnaW5saW5lJ1xuICAgICAgICB9KTtcblxuLy9yZXZlYWwgcGxheWVyIDJzIHR1cm4gZGl2XG5cbiAgICAgICAgJHBsYXllcjJzVHVybi5zaG93KCk7XG4gICAgICAgIG1hcFBsYXlhYmxlID0gZmFsc2U7XG4gICAgICAgIHBsYXllcjFUdXJuID0gZmFsc2U7XG5cbiAgICAgIH0gZWxzZSBpZiAocGxheWVyMVR1cm4gPT09IGZhbHNlKSB7XG5cbiAgICAgICAgLy9wbGF5ZXIgMiBjbGljayBjb29yZGluYXRlc1xuICAgICAgICBwbGF5ZXIyQ2xpY2tYID0gZS5wYWdlWCAtICQoZS50YXJnZXQpLnBvc2l0aW9uKCkubGVmdDtcbiAgICAgICAgcGxheWVyMkNsaWNrWSA9IGUucGFnZVkgLSAkKGUudGFyZ2V0KS5wb3NpdGlvbigpLnRvcDtcblxuICAgICAgICAvL2NvbnZlcnQgcGxheWVyIDIgY2xpY2sgdG8gcGVyY2VudGFnZVxuXG4gICAgICAgIGNvbnN0IHBsYXllcjJDbGlja1hQZXJjZW50T2ZXaW5kb3cgPSBNYXRoLnJvdW5kKChwbGF5ZXIyQ2xpY2tYIC8gJG1hcC53aWR0aCgpKSoxMDApO1xuICAgICAgICBjb25zdCBwbGF5ZXIyQ2xpY2tZUGVyY2VudE9mV2luZG93ID0gTWF0aC5yb3VuZCgocGxheWVyMkNsaWNrWSAvICRtYXAuaGVpZ2h0KCkpKjEwMCk7XG5cbiAgICAgICAgY29uc29sZS5sb2cocGxheWVyMkNsaWNrWFBlcmNlbnRPZldpbmRvdyk7XG4gICAgICAgIGNvbnNvbGUubG9nKHBsYXllcjJDbGlja1lQZXJjZW50T2ZXaW5kb3cpO1xuXG5cbiAgICAgICAgLy9wbGF5ZXIgMiBkaXN0YW5jZSB0byB0YXJnZXRcblxuICAgICAgICBjb25zdCBwbGF5ZXIyZGlzdGFuY2VUb1RhcmdldFggPSAgcGxheWVyMkNsaWNrWFBlcmNlbnRPZldpbmRvdyAtIHF1ZXN0aW9uc0FycmF5W3JvdW5kTnVtYmVyXS54TG9jYXRpb247XG5cbiAgICAgICAgY29uc3QgcGxheWVyMmRpc3RhbmNlVG9UYXJnZXRZID0gcGxheWVyMkNsaWNrWVBlcmNlbnRPZldpbmRvdyAtIHF1ZXN0aW9uc0FycmF5W3JvdW5kTnVtYmVyXS55TG9jYXRpb247XG5cbiAgICAgICAgcGxheWVyMkh5cG90ZW51c2UgPSBNYXRoLmZsb29yKE1hdGguc3FydChNYXRoLnBvdyhwbGF5ZXIyZGlzdGFuY2VUb1RhcmdldFgsIDIpICsgTWF0aC5wb3cocGxheWVyMmRpc3RhbmNlVG9UYXJnZXRZLCAyKSkpO1xuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdkaXN0YW5jZSBmcm9tIHRhcmdldCAnICsgcGxheWVyMkh5cG90ZW51c2UpO1xuXG4gICAgICAgIC8vIGFkZCBwbGF5ZXIgMiBmbGFnXG4gICAgICAgICRwbGF5ZXIyRmxhZy5jc3Moe1xuICAgICAgICAgICdsZWZ0JzogcGxheWVyMkNsaWNrWFBlcmNlbnRPZldpbmRvdyArICclJyxcbiAgICAgICAgICAndG9wJzogcGxheWVyMkNsaWNrWVBlcmNlbnRPZldpbmRvdyArICclJyxcbiAgICAgICAgICAnZGlzcGxheSc6ICdpbmxpbmUnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFdpbiByb3VuZCBsb2dpY1xuICAgICAgICBpZiAocGxheWVyMUh5cG90ZW51c2UgPCBwbGF5ZXIySHlwb3RlbnVzZSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdwbGF5ZXIgMSB3aW5zIHRoaXMgcm91bmQhJyk7XG4gICAgICAgICAgcGxheWVyT25lU2NvcmUgKys7XG4gICAgICAgIH0gZWxzZSBpZlxuICAgICAgICAocGxheWVyMUh5cG90ZW51c2UgPT09IHBsYXllcjJIeXBvdGVudXNlKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ2l0cyBhIHRpZSEnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygncGxheWVyIDIgd2lucyB0aGlzIHJvdW5kIScpO1xuICAgICAgICAgIHBsYXllclR3b1Njb3JlICsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcGxheWVyMURpc3RhbmNlRnJvbVRhcmdldEluTSA9ICgxMDAwIC8gNikqIHBsYXllcjFIeXBvdGVudXNlO1xuICAgICAgICBwbGF5ZXIyRGlzdGFuY2VGcm9tVGFyZ2V0SW5NID0gKDEwMDAgLyA2KSogcGxheWVyMkh5cG90ZW51c2U7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ1BsYXllciAxIGNsaWNrZWQgJyArIHBsYXllcjFEaXN0YW5jZUZyb21UYXJnZXRJbk0gKyAnbSBhd2F5IGZyb20gdGhlIHRhcmdldCcpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKCdQbGF5ZXIgMiBjbGlja2VkICcgKyBwbGF5ZXIyRGlzdGFuY2VGcm9tVGFyZ2V0SW5NICsgJ20gYXdheSBmcm9tIHRoZSB0YXJnZXQnKTtcblxuXG5cblxuLy9yZXZlYWwgdGFyZ2V0IGxvY2F0aW9uXG5cbiAgICAgICAgc2V0VGltZW91dCggKCkgPT4ge1xuICAgICAgICAgICRhbnN3ZXJMb2NhdGlvbi5jc3Moe1xuICAgICAgICAgICAgJ2xlZnQnOiAocXVlc3Rpb25zQXJyYXlbcm91bmROdW1iZXJdLnhMb2NhdGlvbiktICQoZS50YXJnZXQpLnBvc2l0aW9uKCkubGVmdCArICclJyxcbiAgICAgICAgICAgICd0b3AnOiAocXVlc3Rpb25zQXJyYXlbcm91bmROdW1iZXJdLnlMb2NhdGlvbiktICQoZS50YXJnZXQpLnBvc2l0aW9uKCkudG9wICsgJyUnLFxuICAgICAgICAgICAgJ2Rpc3BsYXknOiAnaW5saW5lJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LCAxMDAwKTtcblxuLy9yZXZlYWwgZW5kIG9mIHJvdW5kIGRpdlxuICAgICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAgICAgbWFwUGxheWFibGUgPSBmYWxzZTtcbiAgICAgICAgICAkZW5kT2ZSb3VuZC5zaG93KCk7XG5cbiAgICAgICAgICBwbGF5ZXIxRGlzdGFuY2VGcm9tVGFyZ2V0SW5NID0gTWF0aC5yb3VuZChwbGF5ZXIxRGlzdGFuY2VGcm9tVGFyZ2V0SW5NKTtcbiAgICAgICAgICBwbGF5ZXIyRGlzdGFuY2VGcm9tVGFyZ2V0SW5NID0gTWF0aC5yb3VuZChwbGF5ZXIyRGlzdGFuY2VGcm9tVGFyZ2V0SW5NKTtcblxuICAgICAgICAgIGNvbnNvbGUubG9nKHBsYXllcjFEaXN0YW5jZUZyb21UYXJnZXRJbk0pO1xuICAgICAgICAgIGNvbnNvbGUubG9nKHBsYXllcjJEaXN0YW5jZUZyb21UYXJnZXRJbk0pO1xuXG4gICAgICAgICAgcGxheWVyT25lT3ZlcmFsbERpc3RhbmNlICs9IHBsYXllcjFEaXN0YW5jZUZyb21UYXJnZXRJbk07XG4gICAgICAgICAgcGxheWVyVHdvT3ZlcmFsbERpc3RhbmNlICs9IHBsYXllcjJEaXN0YW5jZUZyb21UYXJnZXRJbk07XG5cbiAgICAgICAgICAkcDFEaXN0YW5jZUF3YXkuaHRtbChwbGF5ZXIxRGlzdGFuY2VGcm9tVGFyZ2V0SW5NKTtcbiAgICAgICAgICAkcDJEaXN0YW5jZUF3YXkuaHRtbChwbGF5ZXIyRGlzdGFuY2VGcm9tVGFyZ2V0SW5NKTtcblxuICAgICAgICAgICRwbGF5ZXIxU2NvcmUudGV4dChwbGF5ZXJPbmVTY29yZSk7XG4gICAgICAgICAgJHBsYXllcjJTY29yZS50ZXh0KHBsYXllclR3b1Njb3JlKTtcblxuICAgICAgICAgICRwMU92ZXJhbGxEaXN0YW5jZS50ZXh0KHBsYXllck9uZU92ZXJhbGxEaXN0YW5jZSk7XG4gICAgICAgICAgJHAyT3ZlcmFsbERpc3RhbmNlLnRleHQocGxheWVyVHdvT3ZlcmFsbERpc3RhbmNlKTtcblxuXG4gICAgICAgIH0sIDIwMDApO1xuXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHJvdW5kUXVlc3Rpb25OYW1lKTtcblxuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cblxuXG5cblxuXG4gICRwbGF5ZXIyc1R1cm5CdXR0b24ub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIG1hcFBsYXlhYmxlID0gdHJ1ZTtcbiAgICAkcGxheWVyMnNUdXJuLmhpZGUoKTtcbiAgfSk7XG5cblxuXG4vL2NsaWNrIG9uIE5leHQgUm91bmQgYnV0dG9uXG4gICRuZXh0Um91bmRCdXR0b24ub24oJ2NsaWNrJywgKCkgPT4ge1xuXG4gICAgJGVuZE9mUm91bmQuaGlkZSgpO1xuICAgICRhbnN3ZXJMb2NhdGlvbi5oaWRlKCk7XG4gICAgJHBsYXllcjFGbGFnLmhpZGUoKTtcbiAgICAkcGxheWVyMkZsYWcuaGlkZSgpO1xuICAgIGNvbnNvbGUubG9nKCdxdWVzdGlvbnNBcnJheSBsZW5ndGgnICsgIHF1ZXN0aW9uc0FycmF5Lmxlbmd0aCk7XG5cblxuICAgIHJvdW5kTnVtYmVyKys7XG5cblxuICAgIGlmIChyb3VuZE51bWJlciA+PSBxdWVzdGlvbnNBcnJheS5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdlbmQgZ2FtZSBzZXF1ZW5jZScpO1xuICAgICAgJGVuZE9mR2FtZS5zaG93KCk7XG4gICAgICAkcGxheWVyMVNjb3JlLnRleHQocGxheWVyT25lU2NvcmUpO1xuICAgICAgJHBsYXllcjJTY29yZS50ZXh0KHBsYXllclR3b1Njb3JlKTtcblxuICAgICAgJHAxT3ZlcmFsbERpc3RhbmNlLnRleHQocGxheWVyT25lT3ZlcmFsbERpc3RhbmNlKTtcbiAgICAgICRwMk92ZXJhbGxEaXN0YW5jZS50ZXh0KHBsYXllclR3b092ZXJhbGxEaXN0YW5jZSk7XG5cbiAgICAgIGlmIChwbGF5ZXJPbmVTY29yZSA+IHBsYXllclR3b1Njb3JlKSB7XG4gICAgICAgIHdpbm5lciA9ICdQbGF5ZXIgT25lJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbm5lciA9ICdQbGF5ZXIgVHdvJztcbiAgICAgIH1cbiAgICAgICR3aW5uZXIudGV4dCh3aW5uZXIpO1xuICAgICAgJHBsYXlBZ2FpbkJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICRlbmRPZkdhbWUuaGlkZSgpO1xuICAgICAgICAkd2VsY29tZS5zaG93KCk7XG4gICAgICB9KTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKHJvdW5kTnVtYmVyKTtcbiAgICAgIHJvdW5kUXVlc3Rpb25OYW1lID0gcXVlc3Rpb25zQXJyYXlbcm91bmROdW1iZXJdLm5hbWU7XG4gICAgICBwbGF5ZXIxVHVybiA9IHRydWU7XG4gICAgICAkcm91bmRRdWVzdGlvbi50ZXh0KHJvdW5kUXVlc3Rpb25OYW1lKTtcblxuICAgICAgc2V0VGltZW91dCggKCkgPT4ge1xuICAgICAgICAkcXVlc3Rpb24uY3NzKHtcbiAgICAgICAgICAnZGlzcGxheSc6ICdpbmxpbmUnXG4gICAgICAgIH0pO1xuICAgICAgfSwgMjUwKTtcbiAgICB9XG4gIH0pO1xuXG59KTtcblxuXG5cblxuXG5cbi8vSWYgcGxheWVyMSBjbGlja3Mgb24gdGhlIG8yIGNvbnNvbGUubG9nICdCdWxsc2V5ZSEnXG4vLyBpZiAocGxheWVyMUNsaWNrWFBlcmNlbnRPZldpbmRvdyA9PT0gcXVlc3Rpb25zQXJyYXlbcm91bmROdW1iZXJdLnhMb2NhdGlvbiAmJiBwbGF5ZXIxQ2xpY2tZUGVyY2VudE9mV2luZG93ID09PSBxdWVzdGlvbnNBcnJheVtyb3VuZE51bWJlcl0ueUxvY2F0aW9uKSB7XG4vLyAgIGNvbnNvbGUubG9nKCdidWxsc2V5ZSEnKTtcbi8vIH1cbi8vXG4vLyBpZiAocGxheWVyMUNsaWNrWFBlcmNlbnRPZldpbmRvdyA9PT0gYnVja2luZ2hhbVBhbGFjZU9iai54TG9jYXRpb24gJiYgYnVja2luZ2hhbVBhbGFjZU9iai55TG9jYXRpb24pIHtcbi8vICAgY29uc29sZS5sb2coJ0JlaGF2ZSBQaGlsbGlwJyk7XG4vLyB9XG4iXX0=
