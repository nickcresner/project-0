"use strict";$(function(){console.log("JS Loaded");var o=$(".map"),n=$(".welcome"),t=$(".map-select"),a=$(".chosen-map"),e=$(".quiz-select"),i=$(".quiz-select.london"),c=$(".quiz-select.new-york"),l=$(".quiz-select.madrid"),r=$(".chosen-quiz"),s=$(".start-game-button"),L=$(".question"),u=$(".round-question"),d=$(".start-round-button"),m=$(".player-one-flag"),y=$(".player-two-flag"),h=$(".player-twos-turn"),x=$(".player-twos-turn-button"),g=$(".answer-location"),p=$(".end-of-round"),f=$(".p1-distance-away"),w=$(".p2-distance-away"),S=$(".player-1-score"),k=$(".player-2-score"),q=$(".next-round-button"),v=$(".end-of-game"),C=$(".p1-overall-distance-from-targets"),M=$(".p2-overall-distance-from-targets"),T=$(".winner"),B=$(".play-again-button"),b=null,z=null,P=null,G=null,R=0,A=0,F=0,N=0,Y=!0,I=0,E=0,O=0,V=0,W=0,X=!1,D=0,H=0,J=0,K=0,j="",Q={easy:[{name:"The O2 Centre",xLocation:82,yLocation:58},{name:"Buckingham Palace",xLocation:29,yLocation:60},{name:"Kings Cross Station",xLocation:37,yLocation:30},{name:"General Assembly",xLocation:54,yLocation:45},{name:"Big Ben",xLocation:36,yLocation:61}],medium:[{name:"Lord's Cricket Ground",xLocation:19,yLocation:32},{name:"Chelsea FC",xLocation:11,yLocation:81},{name:"Charlton FC",xLocation:95,yLocation:76},{name:"Lee Valley Velodrome",xLocation:74,yLocation:12}],hard:[{name:"Baker Street Station",xLocation:25,yLocation:38},{name:"Green Park Station",xLocation:29,yLocation:54},{name:"Farringdon Station",xLocation:43,yLocation:41},{name:"Angel Station",xLocation:43,yLocation:29},{name:"Camden Town Station",xLocation:28,yLocation:22}],veryHard:[{name:"Granary Square",xLocation:36,yLocation:26},{name:"Finsbury Square",xLocation:50,yLocation:40},{name:"Grosvenor Square",xLocation:26,yLocation:49},{name:"Lincoln Inn's Fields",xLocation:39,yLocation:45},{name:"Russell Square",xLocation:35,yLocation:39}]},U={easy:[{name:"World Trade Center",xLocation:49,yLocation:50},{name:"Empire State Building",xLocation:58,yLocation:23},{name:"Statue of Liberty",xLocation:38,yLocation:69},{name:"Grand Central Station",xLocation:61,yLocation:19},{name:"Times Square",xLocation:58.5,yLocation:14.6}],hard:[{name:"Barclay's Centre (Brooklyn Nets)",xLocation:61.7,yLocation:74.6},{name:"Madison Square Garden",xLocation:55.8,yLocation:20.7},{name:"Red Bull Arena (New York Red Bull's)",xLocation:3,yLocation:30.5},{name:"Wollman Ice Skating Rink",xLocation:62.2,yLocation:7.1},{name:"New York East River Park Track",xLocation:62.4,yLocation:43.6}]},Z={hard:[{name:"Museo Nacional del Prado",xLocation:55.6,yLocation:49.8},{name:"Santiago Bernabéu Stadium",xLocation:57,yLocation:12.8},{name:"Puerta Del Sol",xLocation:50.96,yLocation:46.2},{name:"Museo Nacional Centro de Arte Reina Sofía",xLocation:54.6,yLocation:54.8},{name:"Plaza Meyor",xLocation:49.4,yLocation:47.8}]},_=0;setTimeout(function(){n.show(),c.hide(),l.hide(),t.on("change",function(n){z=$(n.target).val();var t=$(".map-select option[value="+z+"]").html();a.text(t),o.removeAttr("class").addClass("map").addClass(z),"london"===z?(i.show(),c.hide(),l.hide(),P=Q):"new-york"===z?(i.hide(),c.show(),l.hide(),P=U):"madrid"===z&&(i.hide(),c.hide(),l.show(),P=Z)}),e.on("change",function(o){b=$(o.target).val(),console.log("quiz select array in event listener",e),console.log(z);var n=$(".quiz-select."+z+" option[value="+b+"]").html();r.text(n),_=P[b]})},1e3),s.on("click",function(){if(console.log("clickety click!"),!z||!b)return!1;console.log(n),n.hide(),G=_[I].name,setTimeout(function(){u.text(G),console.log(G),L.show()},250)}),d.on("click",function(){L.hide(),X=!0}),o.on("click",function(n){if(!0===X)if(!0===Y){R=n.pageX-$(n.target).position().left,A=n.pageY-$(n.target).position().top;var t=R/o.width()*100,a=A/o.height()*100;console.log(t),console.log(a),console.log("questions array [0]",_[0]);var e=t-_[I].xLocation,i=a-_[I].yLocation;E=Math.floor(Math.sqrt(Math.pow(e,2)+Math.pow(i,2))),m.css({left:t+"%",top:a+"%",display:"inline"}),h.show(),X=!1,Y=!1}else if(!1===Y){F=n.pageX-$(n.target).position().left,N=n.pageY-$(n.target).position().top;var c=F/o.width()*100,l=N/o.height()*100;console.log(c),console.log(l);var r=c-_[I].xLocation,s=l-_[I].yLocation;O=Math.floor(Math.sqrt(Math.pow(r,2)+Math.pow(s,2))),y.css({left:c+"%",top:l+"%",display:"inline"}),E<O?D++:E===O?(D++,H++):H++,V=1e3/6*E,W=1e3/6*O,setTimeout(function(){g.css({left:_[I].xLocation-$(n.target).position().left+"%",top:_[I].yLocation-$(n.target).position().top+"%",display:"inline"})},1e3),setTimeout(function(){X=!1,p.show(),V=Math.round(V),W=Math.round(W),J+=V,K+=W,f.html(V),w.html(W),S.text(D),k.text(H),C.text(J),M.text(K)},2e3)}}),x.on("click",function(){X=!0,h.hide()}),q.on("click",function(){p.hide(),g.hide(),m.hide(),y.hide(),I++,I>=_.length?(console.log("end game sequence"),v.show(),S.text(D),k.text(H),C.text(J),M.text(K),j=D>H?"Player One":D===H?"It's a Tie!":"Player Two",T.text(j),B.on("click",function(){v.hide(),n.show(),I=0,J=0,K=0,D=0,H=0})):(console.log(I),G=_[I].name,Y=!0,u.text(G),setTimeout(function(){L.css({display:"inline"})},250))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiY29uc29sZSIsImxvZyIsIiRtYXAiLCIkbWFwU2VsZWN0IiwiJHdlbGNvbWUiLCIkY2hvc2VuTWFwIiwiJHF1aXpTZWxlY3QiLCIkbG9uZG9uUXVpelNlbGVjdCIsIiRuZXdZb3JrUXVpelNlbGVjdCIsIiRtYWRyaWRRdWl6U2VsZWN0IiwiJGNob3NlblF1aXoiLCIkc3RhcnRHYW1lQnV0dG9uIiwiJHF1ZXN0aW9uIiwiJHJvdW5kUXVlc3Rpb24iLCIkc3RhcnRSb3VuZEJ1dHRvbiIsIiRwbGF5ZXIxRmxhZyIsIiRwbGF5ZXIyRmxhZyIsIiRwbGF5ZXIyc1R1cm4iLCIkcGxheWVyMnNUdXJuQnV0dG9uIiwiJGFuc3dlckxvY2F0aW9uIiwiJGVuZE9mUm91bmQiLCIkcDFEaXN0YW5jZUF3YXkiLCIkcDJEaXN0YW5jZUF3YXkiLCIkcGxheWVyMVNjb3JlIiwiJHBsYXllcjJTY29yZSIsIiRuZXh0Um91bmRCdXR0b24iLCIkZW5kT2ZHYW1lIiwiJHAxT3ZlcmFsbERpc3RhbmNlIiwiJHAyT3ZlcmFsbERpc3RhbmNlIiwiJHBsYXlBZ2FpbkJ1dHRvbiIsImNpdHkiLCJkaWZmaWN1bHR5IiwicGxheWVyMUNsaWNrWCIsInBsYXllcjFDbGlja1kiLCJwbGF5ZXIyQ2xpY2tYIiwicGxheWVyMVR1cm4iLCJyb3VuZE51bWJlciIsInBsYXllcjFIeXBvdGVudXNlIiwicGxheWVyMkh5cG90ZW51c2UiLCJwbGF5ZXIxRGlzdGFuY2VGcm9tVGFyZ2V0SW5NIiwicGxheWVyMkRpc3RhbmNlRnJvbVRhcmdldEluTSIsIm1hcFBsYXlhYmxlIiwicGxheWVyT25lU2NvcmUiLCJwbGF5ZXJUd29TY29yZSIsInBsYXllck9uZU92ZXJhbGxEaXN0YW5jZSIsInBsYXllclR3b092ZXJhbGxEaXN0YW5jZSIsIndpbm5lciIsInhMb2NhdGlvbiIsInlMb2NhdGlvbiIsIm5hbWUiLCJtZWRpdW0iLCJoYXJkIiwidmVyeUhhcmQiLCJuZXdZb3JrUXVlc3Rpb25zT2JqIiwiZWFzeSIsIm1hZHJpZFF1ZXN0aW9uc09iaiIsInF1ZXN0aW9uc0FycmF5IiwiY2hvc2VuQ2l0eSIsInJlbW92ZUF0dHIiLCJxdWVzdGlvbnNPYmplY3QiLCJzZXRUaW1lb3V0IiwiaGlkZSIsIm9uIiwiZSIsInRhcmdldCIsInZhbCIsImh0bWwiLCJ0ZXh0IiwiYWRkQ2xhc3MiLCJzaG93IiwibG9uZG9uUXVlc3Rpb25zT2JqIiwidG9wIiwicGxheWVyMUNsaWNrWFBlcmNlbnRPZldpbmRvdyIsImNob3NlbkRpZmZpY3VsdHkiLCJwbGF5ZXIxQ2xpY2tZUGVyY2VudE9mV2luZG93IiwiTWF0aCIsInJvdW5kUXVlc3Rpb25OYW1lIiwicGxheWVyMkNsaWNrWSIsInBsYXllcjJDbGlja1lQZXJjZW50T2ZXaW5kb3ciLCJsZWZ0IiwicGFnZVkiLCJwb3NpdGlvbiIsInBsYXllcjFkaXN0YW5jZVRvVGFyZ2V0WCIsImZsb29yIiwic3FydCIsInBvdyIsInBsYXllcjFkaXN0YW5jZVRvVGFyZ2V0WSIsImNzcyIsImRpc3BsYXkiLCJwYWdlWCIsInBsYXllcjJDbGlja1hQZXJjZW50T2ZXaW5kb3ciLCJ3aWR0aCIsImhlaWdodCIsInBsYXllcjJkaXN0YW5jZVRvVGFyZ2V0WCIsInBsYXllcjJkaXN0YW5jZVRvVGFyZ2V0WSIsIiR3aW5uZXIiLCJyb3VuZCIsImxlbmd0aCJdLCJtYXBwaW5ncyI6IllBQUFBLEdBQUUsV0FDQUMsUUFBUUMsSUFBSSxZQUFaRCxJQUFBQSxHQUFZRCxFQUFBLFFBRU5HLEVBQVNILEVBQUYsWUFHUEksRUFBYUosRUFBRSxlQURmSyxFQUFhTCxFQUFBLGVBQ2JJLEVBQWVKLEVBQUEsZ0JBQ2ZNLEVBQWVOLEVBQUEsdUJBQ2ZPLEVBQWdCUCxFQUFBLHlCQUNoQlEsRUFBc0JSLEVBQUEsdUJBQ3RCUyxFQUFBQSxFQUFBQSxnQkFDQUMsRUFBb0JWLEVBQUUsc0JBQ3RCVyxFQUFjWCxFQUFFLGFBQ2hCWSxFQUFtQlosRUFBRSxtQkFDckJhLEVBQWNiLEVBQUEs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QWdCMEMsT0FDaEI5QyxFQUFhOEMsT0FDYjdDLEVBQWE2QyxPQUViekIsSUFHSUEsR0FBZW9CLEVBQWV5QyxRQUNoQ2pHLFFBQVFDLElBQUkscUJBQ1p5QixFQUFXMkMsT0FDWDlDLEVBQWM0QyxLQUFLekIsR0FDbkJsQixFQUFjMkMsS0FBS3hCLEdBRW5CaEIsRUFBbUJ3QyxLQUFLdkIsR0FDeEJoQixFQUFtQnVDLEtBQUt0QixHQUd0QkMsRUFERUosRUFBaUJDLEVBQ1YsYUFDQUQsSUFBbUJDLEVBQ25CLGNBRUEsYUFFWG9ELEVBQVE1QixLQUFLckIsR0FDYmpCLEVBQWlCaUMsR0FBRyxRQUFTLFdBQzNCcEMsRUFBV21DLE9BQ1h6RCxFQUFTaUUsT0FDVGpDLEVBQWMsRUFDZFEsRUFBMkIsRUFDM0JDLEVBQTJCLEVBQzNCSCxFQUFpQixFQUNqQkMsRUFBaUIsTUFLbkIzQyxRQUFRQyxJQUFJbUMsR0FDWndDLEVBQW9CcEIsRUFBZXBCLEdBQWFhLEtBQ2hEZCxHQUFjLEVBQ2R0QixFQUFlc0QsS0FBS1MsR0FFcEJoQixXQUFZLFdBQ1ZoRCxFQUFVMkUsS0FDUkMsUUFBVyxZQUVaIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBjb25zb2xlLmxvZygnSlMgTG9hZGVkJyk7XG5cbiAgY29uc3QgJG1hcCA9ICQoJy5tYXAnKTtcblxuICBjb25zdCAkd2VsY29tZSA9ICQoJy53ZWxjb21lJyk7XG4gIGNvbnN0ICRtYXBTZWxlY3QgPSAkKCcubWFwLXNlbGVjdCcpO1xuICBjb25zdCAkY2hvc2VuTWFwID0gJCgnLmNob3Nlbi1tYXAnKTtcbiAgY29uc3QgJHF1aXpTZWxlY3QgPSAkKCcucXVpei1zZWxlY3QnKTtcbiAgY29uc3QgJGxvbmRvblF1aXpTZWxlY3QgPSAkKCcucXVpei1zZWxlY3QubG9uZG9uJyk7XG4gIGNvbnN0ICRuZXdZb3JrUXVpelNlbGVjdCA9ICQoJy5xdWl6LXNlbGVjdC5uZXcteW9yaycpO1xuICBjb25zdCAkbWFkcmlkUXVpelNlbGVjdCA9ICQoJy5xdWl6LXNlbGVjdC5tYWRyaWQnKTtcbiAgY29uc3QgJGNob3NlblF1aXogPSAkKCcuY2hvc2VuLXF1aXonKTtcbiAgY29uc3QgJHN0YXJ0R2FtZUJ1dHRvbiA9ICQoJy5zdGFydC1nYW1lLWJ1dHRvbicpO1xuICBjb25zdCAkcXVlc3Rpb24gPSAkKCcucXVlc3Rpb24nKTtcbiAgY29uc3QgJHJvdW5kUXVlc3Rpb24gPSAkKCcucm91bmQtcXVlc3Rpb24nKTtcbiAgY29uc3QgJHN0YXJ0Um91bmRCdXR0b24gPSAkKCcuc3RhcnQtcm91bmQtYnV0dG9uJyk7XG4gIGNvbnN0ICRwbGF5ZXIxRmxhZyA9ICQoJy5wbGF5ZXItb25lLWZsYWcnKTtcbiAgY29uc3QgJHBsYXllcjJGbGFnID0gJCgnLnBsYXllci10d28tZmxhZycpO1xuICBjb25zdCAkcGxheWVyMnNUdXJuID0gJCgnLnBsYXllci10d29zLXR1cm4nKTtcbiAgY29uc3QgJHBsYXllcjJzVHVybkJ1dHRvbiA9ICQoJy5wbGF5ZXItdHdvcy10dXJuLWJ1dHRvbicpO1xuICBjb25zdCAkYW5zd2VyTG9jYXRpb24gPSAkKCcuYW5zd2VyLWxvY2F0aW9uJyk7XG4gIGNvbnN0ICRlbmRPZlJvdW5kID0gJCgnLmVuZC1vZi1yb3VuZCcpO1xuICBjb25zdCAkcDFEaXN0YW5jZUF3YXkgPSAkKCcucDEtZGlzdGFuY2UtYXdheScpO1xuICBjb25zdCAkcDJEaXN0YW5jZUF3YXkgPSAkKCcucDItZGlzdGFuY2UtYXdheScpO1xuICBjb25zdCAkcGxheWVyMVNjb3JlID0gJCgnLnBsYXllci0xLXNjb3JlJyk7XG4gIGNvbnN0ICRwbGF5ZXIyU2NvcmUgPSAkKCcucGxheWVyLTItc2NvcmUnKTtcbiAgY29uc3QgJG5leHRSb3VuZEJ1dHRvbiA9ICQoJy5uZXh0LXJvdW5kLWJ1dHRvbicpO1xuICBjb25zdCAkZW5kT2ZHYW1lID0gJCgnLmVuZC1vZi1nYW1lJyk7XG4gIGNvbnN0ICRwMU92ZXJhbGxEaXN0YW5jZSA9ICQoJy5wMS1vdmVyYWxsLWRpc3RhbmNlLWZyb20tdGFyZ2V0cycpO1xuICBjb25zdCAkcDJPdmVyYWxsRGlzdGFuY2UgPSAkKCcucDItb3ZlcmFsbC1kaXN0YW5jZS1mcm9tLXRhcmdldHMnKTtcbiAgY29uc3QgJHdpbm5lciA9ICQoJy53aW5uZXInKTtcbiAgY29uc3QgJHBsYXlBZ2FpbkJ1dHRvbiA9ICQoJy5wbGF5LWFnYWluLWJ1dHRvbicpO1xuXG4gIGxldCBkaWZmaWN1bHR5ID0gbnVsbDtcbiAgbGV0IGNpdHkgPSBudWxsO1xuICBsZXQgcXVlc3Rpb25zT2JqZWN0ID0gbnVsbDtcbiAgbGV0IHJvdW5kUXVlc3Rpb25OYW1lID0gbnVsbDtcblxuXG4gIGxldCBwbGF5ZXIxQ2xpY2tYID0gMDtcbiAgbGV0IHBsYXllcjFDbGlja1kgPSAwO1xuICBsZXQgcGxheWVyMkNsaWNrWCA9IDA7XG4gIGxldCBwbGF5ZXIyQ2xpY2tZID0gMDtcblxuXG4gIGxldCBwbGF5ZXIxVHVybiA9IHRydWU7XG4gIGxldCByb3VuZE51bWJlciA9IDA7XG4gIGxldCBwbGF5ZXIxSHlwb3RlbnVzZSA9IDA7XG4gIGxldCBwbGF5ZXIySHlwb3RlbnVzZSA9IDA7XG4gIGxldCBwbGF5ZXIxRGlzdGFuY2VGcm9tVGFyZ2V0SW5NID0gMDtcbiAgbGV0IHBsYXllcjJEaXN0YW5jZUZyb21UYXJnZXRJbk0gPSAwO1xuICBsZXQgbWFwUGxheWFibGUgPSBmYWxzZTtcblxuICBsZXQgcGxheWVyT25lU2NvcmUgPSAwO1xuICBsZXQgcGxheWVyVHdvU2NvcmUgPSAwO1xuXG4gIGxldCBwbGF5ZXJPbmVPdmVyYWxsRGlzdGFuY2UgPSAwO1xuICBsZXQgcGxheWVyVHdvT3ZlcmFsbERpc3RhbmNlID0gMDtcblxuICBsZXQgd2lubmVyID0gJyc7XG5cblxuXG5cbiAgLy9RdWVzdGlvbnMgYW5kIFJvdW5kc1xuXG4gIC8vRWFzeSBxdWl6XG4gIGNvbnN0IGxvbmRvblF1ZXN0aW9uc09iaiA9IHtcbiAgICBlYXN5OiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdUaGUgTzIgQ2VudHJlJyxcbiAgICAgICAgeExvY2F0aW9uOiA4MixcbiAgICAgICAgeUxvY2F0aW9uOiA1OFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0J1Y2tpbmdoYW0gUGFsYWNlJyxcbiAgICAgICAgeExvY2F0aW9uOiAyOSxcbiAgICAgICAgeUxvY2F0aW9uOiA2MFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0tpbmdzIENyb3NzIFN0YXRpb24nLFxuICAgICAgICB4TG9jYXRpb246IDM3LFxuICAgICAgICB5TG9jYXRpb246IDMwXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnR2VuZXJhbCBBc3NlbWJseScsXG4gICAgICAgIHhMb2NhdGlvbjogNTQsXG4gICAgICAgIHlMb2NhdGlvbjogNDVcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdCaWcgQmVuJyxcbiAgICAgICAgeExvY2F0aW9uOiAzNixcbiAgICAgICAgeUxvY2F0aW9uOiA2MVxuICAgICAgfVxuICAgIF0sXG4gICAgbWVkaXVtOiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdMb3JkXFwncyBDcmlja2V0IEdyb3VuZCcsXG4gICAgICAgIHhMb2NhdGlvbjogMTksXG4gICAgICAgIHlMb2NhdGlvbjogMzJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdDaGVsc2VhIEZDJyxcbiAgICAgICAgeExvY2F0aW9uOiAxMSxcbiAgICAgICAgeUxvY2F0aW9uOiA4MVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0NoYXJsdG9uIEZDJyxcbiAgICAgICAgeExvY2F0aW9uOiA5NSxcbiAgICAgICAgeUxvY2F0aW9uOiA3NlxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0xlZSBWYWxsZXkgVmVsb2Ryb21lJyxcbiAgICAgICAgeExvY2F0aW9uOiA3NCxcbiAgICAgICAgeUxvY2F0aW9uOiAxMlxuICAgICAgfVxuICAgIF0sXG4gICAgaGFyZDogW1xuICAgICAge1xuICAgICAgICBuYW1lOiAnQmFrZXIgU3RyZWV0IFN0YXRpb24nLFxuICAgICAgICB4TG9jYXRpb246IDI1LFxuICAgICAgICB5TG9jYXRpb246IDM4XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnR3JlZW4gUGFyayBTdGF0aW9uJyxcbiAgICAgICAgeExvY2F0aW9uOiAyOSxcbiAgICAgICAgeUxvY2F0aW9uOiA1NFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0ZhcnJpbmdkb24gU3RhdGlvbicsXG4gICAgICAgIHhMb2NhdGlvbjogNDMsXG4gICAgICAgIHlMb2NhdGlvbjogNDFcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdBbmdlbCBTdGF0aW9uJyxcbiAgICAgICAgeExvY2F0aW9uOiA0MyxcbiAgICAgICAgeUxvY2F0aW9uOiAyOVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0NhbWRlbiBUb3duIFN0YXRpb24nLFxuICAgICAgICB4TG9jYXRpb246IDI4LFxuICAgICAgICB5TG9jYXRpb246IDIyXG4gICAgICB9XG4gICAgXSxcbiAgICB2ZXJ5SGFyZDogW1xuICAgICAge1xuICAgICAgICBuYW1lOiAnR3JhbmFyeSBTcXVhcmUnLFxuICAgICAgICB4TG9jYXRpb246IDM2LFxuICAgICAgICB5TG9jYXRpb246IDI2XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnRmluc2J1cnkgU3F1YXJlJyxcbiAgICAgICAgeExvY2F0aW9uOiA1MCxcbiAgICAgICAgeUxvY2F0aW9uOiA0MFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0dyb3N2ZW5vciBTcXVhcmUnLFxuICAgICAgICB4TG9jYXRpb246IDI2LFxuICAgICAgICB5TG9jYXRpb246IDQ5XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnTGluY29sbiBJbm5cXCdzIEZpZWxkcycsXG4gICAgICAgIHhMb2NhdGlvbjogMzksXG4gICAgICAgIHlMb2NhdGlvbjogNDVcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdSdXNzZWxsIFNxdWFyZScsXG4gICAgICAgIHhMb2NhdGlvbjogMzUsXG4gICAgICAgIHlMb2NhdGlvbjogMzlcbiAgICAgIH1cbiAgICBdXG4gIH07XG5cbiAgY29uc3QgbmV3WW9ya1F1ZXN0aW9uc09iaiA9IHtcbiAgICBlYXN5OiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdXb3JsZCBUcmFkZSBDZW50ZXInLFxuICAgICAgICB4TG9jYXRpb246IDQ5LFxuICAgICAgICB5TG9jYXRpb246IDUwXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnRW1waXJlIFN0YXRlIEJ1aWxkaW5nJyxcbiAgICAgICAgeExvY2F0aW9uOiA1OCxcbiAgICAgICAgeUxvY2F0aW9uOiAyM1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ1N0YXR1ZSBvZiBMaWJlcnR5JyxcbiAgICAgICAgeExvY2F0aW9uOiAzOCxcbiAgICAgICAgeUxvY2F0aW9uOiA2OVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ0dyYW5kIENlbnRyYWwgU3RhdGlvbicsXG4gICAgICAgIHhMb2NhdGlvbjogNjEsXG4gICAgICAgIHlMb2NhdGlvbjogMTlcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdUaW1lcyBTcXVhcmUnLFxuICAgICAgICB4TG9jYXRpb246IDU4LjUsXG4gICAgICAgIHlMb2NhdGlvbjogMTQuNlxuICAgICAgfVxuICAgIF0sXG4gICAgaGFyZDogW1xuICAgICAge1xuICAgICAgICBuYW1lOiAnQmFyY2xheVxcJ3MgQ2VudHJlIChCcm9va2x5biBOZXRzKScsXG4gICAgICAgIHhMb2NhdGlvbjogNjEuNyxcbiAgICAgICAgeUxvY2F0aW9uOiA3NC42XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnTWFkaXNvbiBTcXVhcmUgR2FyZGVuJyxcbiAgICAgICAgeExvY2F0aW9uOiA1NS44LFxuICAgICAgICB5TG9jYXRpb246IDIwLjdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdSZWQgQnVsbCBBcmVuYSAoTmV3IFlvcmsgUmVkIEJ1bGxcXCdzKScsXG4gICAgICAgIHhMb2NhdGlvbjogMyxcbiAgICAgICAgeUxvY2F0aW9uOiAzMC41XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnV29sbG1hbiBJY2UgU2thdGluZyBSaW5rJyxcbiAgICAgICAgeExvY2F0aW9uOiA2Mi4yLFxuICAgICAgICB5TG9jYXRpb246IDcuMVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ05ldyBZb3JrIEVhc3QgUml2ZXIgUGFyayBUcmFjaycsXG4gICAgICAgIHhMb2NhdGlvbjogNjIuNCxcbiAgICAgICAgeUxvY2F0aW9uOiA0My42XG4gICAgICB9XG4gICAgXVxuICB9O1xuXG4gIGNvbnN0IG1hZHJpZFF1ZXN0aW9uc09iaiA9IHtcbiAgICBoYXJkOiBbXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdNdXNlbyBOYWNpb25hbCBkZWwgUHJhZG8nLFxuICAgICAgICB4TG9jYXRpb246IDU1LjYsXG4gICAgICAgIHlMb2NhdGlvbjogNDkuOFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ1NhbnRpYWdvIEJlcm5hYsOpdSBTdGFkaXVtJyxcbiAgICAgICAgeExvY2F0aW9uOiA1NyxcbiAgICAgICAgeUxvY2F0aW9uOiAxMi44XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBuYW1lOiAnUHVlcnRhIERlbCBTb2wnLFxuICAgICAgICB4TG9jYXRpb246IDUwLjk2LFxuICAgICAgICB5TG9jYXRpb246IDQ2LjJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdNdXNlbyBOYWNpb25hbCBDZW50cm8gZGUgQXJ0ZSBSZWluYSBTb2bDrWEnLFxuICAgICAgICB4TG9jYXRpb246IDU0LjYsXG4gICAgICAgIHlMb2NhdGlvbjogNTQuOFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ1BsYXphIE1leW9yJyxcbiAgICAgICAgeExvY2F0aW9uOiA0OS40LFxuICAgICAgICB5TG9jYXRpb246IDQ3LjhcbiAgICAgIH1cbiAgICBdXG4gIH07XG5cblxuXG4gIC8vIHdoaWNoIHNldCBvZiBxdWVzdGlvbnMgdG8gdXNlP1xuXG4gIGxldCBxdWVzdGlvbnNBcnJheSA9IDA7XG5cbiAgLy9HZXQgdGhlIG5hbWUgb2YgdGhlIGxhbmRtYXJrIGZvciBlYWNoIHF1ZXN0aW9uXG5cblxuICAvL3dlbGNvbWUgcGFnZVxuXG5cbiAgc2V0VGltZW91dCgoKSA9PiB7XG5cblxuXG5cbiAgICAkd2VsY29tZS5zaG93KCk7XG4gICAgJG5ld1lvcmtRdWl6U2VsZWN0LmhpZGUoKTtcbiAgICAkbWFkcmlkUXVpelNlbGVjdC5oaWRlKCk7XG5cblxuICAgICRtYXBTZWxlY3Qub24oJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBjaXR5ID0gJChlLnRhcmdldCkudmFsKCk7XG4gICAgICBjb25zdCBjaG9zZW5DaXR5ID0gJChgLm1hcC1zZWxlY3Qgb3B0aW9uW3ZhbHVlPSR7Y2l0eX1dYCkuaHRtbCgpO1xuXG4gICAgICAkY2hvc2VuTWFwLnRleHQoY2hvc2VuQ2l0eSk7XG5cbiAgICAgICRtYXAucmVtb3ZlQXR0cignY2xhc3MnKS5hZGRDbGFzcygnbWFwJykuYWRkQ2xhc3MoY2l0eSk7XG5cbiAgICAgIGlmIChjaXR5ID09PSAnbG9uZG9uJykge1xuICAgICAgICAkbG9uZG9uUXVpelNlbGVjdC5zaG93KCk7XG4gICAgICAgICRuZXdZb3JrUXVpelNlbGVjdC5oaWRlKCk7XG4gICAgICAgICRtYWRyaWRRdWl6U2VsZWN0LmhpZGUoKTtcbiAgICAgICAgcXVlc3Rpb25zT2JqZWN0ID0gbG9uZG9uUXVlc3Rpb25zT2JqO1xuICAgICAgfSBlbHNlIGlmIChjaXR5ID09PSAnbmV3LXlvcmsnKSB7XG4gICAgICAgICRsb25kb25RdWl6U2VsZWN0LmhpZGUoKTtcbiAgICAgICAgJG5ld1lvcmtRdWl6U2VsZWN0LnNob3coKTtcbiAgICAgICAgJG1hZHJpZFF1aXpTZWxlY3QuaGlkZSgpO1xuICAgICAgICBxdWVzdGlvbnNPYmplY3QgPSBuZXdZb3JrUXVlc3Rpb25zT2JqO1xuICAgICAgfSBlbHNlIGlmIChjaXR5ID09PSAnbWFkcmlkJykge1xuICAgICAgICAkbG9uZG9uUXVpelNlbGVjdC5oaWRlKCk7XG4gICAgICAgICRuZXdZb3JrUXVpelNlbGVjdC5oaWRlKCk7XG4gICAgICAgICRtYWRyaWRRdWl6U2VsZWN0LnNob3coKTtcbiAgICAgICAgcXVlc3Rpb25zT2JqZWN0ID0gbWFkcmlkUXVlc3Rpb25zT2JqO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJHF1aXpTZWxlY3Qub24oJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBkaWZmaWN1bHR5ID0gJChlLnRhcmdldCkudmFsKCk7XG4gICAgICBjb25zb2xlLmxvZygncXVpeiBzZWxlY3QgYXJyYXkgaW4gZXZlbnQgbGlzdGVuZXInLCAkcXVpelNlbGVjdCk7XG4gICAgICBjb25zb2xlLmxvZyhjaXR5KTtcblxuICAgICAgY29uc3QgY2hvc2VuRGlmZmljdWx0eSA9ICQoYC5xdWl6LXNlbGVjdC4ke2NpdHl9IG9wdGlvblt2YWx1ZT0ke2RpZmZpY3VsdHl9XWApLmh0bWwoKTtcblxuICAgICAgJGNob3NlblF1aXoudGV4dChjaG9zZW5EaWZmaWN1bHR5KTtcblxuICAgICAgcXVlc3Rpb25zQXJyYXkgPSBxdWVzdGlvbnNPYmplY3RbZGlmZmljdWx0eV07XG5cblxuICAgIH0pO1xuICB9LCAxMDAwKTtcblxuICAvL2NsaWNrIHN0YXJ0IGdhbWUgYnV0dG9uIHRvIGhpZGUgdGhlIHdlbGNvbWUgZGl2IGFuZCBzaG93IHRoZSBmaXJzdCBxdWVzdGlvblxuXG4gICRzdGFydEdhbWVCdXR0b24ub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdjbGlja2V0eSBjbGljayEnKTtcbiAgICBpZighY2l0eSB8fCAhZGlmZmljdWx0eSlcbiAgICAgIHJldHVybiBmYWxzZTtcblxuXG4gICAgY29uc29sZS5sb2coJHdlbGNvbWUpO1xuICAgICR3ZWxjb21lLmhpZGUoKTtcblxuICAgIHJvdW5kUXVlc3Rpb25OYW1lID0gcXVlc3Rpb25zQXJyYXlbcm91bmROdW1iZXJdLm5hbWU7XG5cblxuICAgIC8vIHF1ZXN0aW9uIGRpdiBwb3BzIHVwXG5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIC8vZ2V0IHRoZSBuYW1lIG9mIHRoZSBsYW5kbWFyayBmcm9tIHRoZSBuYW1lIHZhbHVlIGluIHRoZSBvYmplY3QgaW4gdGhlIGFycmF5LlxuICAgICAgJHJvdW5kUXVlc3Rpb24udGV4dChyb3VuZFF1ZXN0aW9uTmFtZSk7XG4gICAgICBjb25zb2xlLmxvZyhyb3VuZFF1ZXN0aW9uTmFtZSk7XG4gICAgICAkcXVlc3Rpb24uc2hvdygpO1xuICAgIH0sIDI1MCk7XG4gIH0pO1xuXG5cbiAgLy9IaWRlIHF1ZXN0aW9uIGRpdlxuICAkc3RhcnRSb3VuZEJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJHF1ZXN0aW9uLmhpZGUoKTtcbiAgICBtYXBQbGF5YWJsZSA9IHRydWU7XG4gIH0pO1xuXG5cblxuXG5cblxuICAvL1BsYXllcjFDbGljayBFdmVudFxuXG5cblxuXG4gICRtYXAub24oJ2NsaWNrJywgKGUpID0+IHtcbiAgICBpZiAobWFwUGxheWFibGUgPT09IHRydWUpIHtcblxuICAgICAgaWYgKHBsYXllcjFUdXJuID09PSB0cnVlKSB7XG5cbiAgICAgICAgLy9maW5kIGNsaWNrIGNvb3JkaW5hdGVzIGluIHBpeGVsc1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhlLnBhZ2VYKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZS5wYWdlWSk7XG4gICAgICAgIHBsYXllcjFDbGlja1ggPSBlLnBhZ2VYIC0gJChlLnRhcmdldCkucG9zaXRpb24oKS5sZWZ0O1xuICAgICAgICBwbGF5ZXIxQ2xpY2tZID0gZS5wYWdlWSAtICQoZS50YXJnZXQpLnBvc2l0aW9uKCkudG9wO1xuXG4gICAgICAgIC8vY29udmVydCBwYWdlWCBhbmQgcGFnZVkgcGl4ZWxzIHRvIHBlcmNlbnRhZ2Ugb2YgcGFnZVxuICAgICAgICBjb25zdCBwbGF5ZXIxQ2xpY2tYUGVyY2VudE9mV2luZG93ID0gKHBsYXllcjFDbGlja1ggLyAkbWFwLndpZHRoKCkpKjEwMDtcbiAgICAgICAgY29uc3QgcGxheWVyMUNsaWNrWVBlcmNlbnRPZldpbmRvdyA9IChwbGF5ZXIxQ2xpY2tZIC8gJG1hcC5oZWlnaHQoKSkqMTAwO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKHBsYXllcjFDbGlja1hQZXJjZW50T2ZXaW5kb3cpO1xuICAgICAgICBjb25zb2xlLmxvZyhwbGF5ZXIxQ2xpY2tZUGVyY2VudE9mV2luZG93KTtcblxuXG4gICAgICAgIC8vRGlzdGFuY2UgdG8gdGFyZ2V0XG4gICAgICAgIGNvbnNvbGUubG9nKCdxdWVzdGlvbnMgYXJyYXkgWzBdJywgcXVlc3Rpb25zQXJyYXlbMF0pO1xuICAgICAgICBjb25zdCBwbGF5ZXIxZGlzdGFuY2VUb1RhcmdldFggPSAgcGxheWVyMUNsaWNrWFBlcmNlbnRPZldpbmRvdyAtIHF1ZXN0aW9uc0FycmF5W3JvdW5kTnVtYmVyXS54TG9jYXRpb247XG5cblxuICAgICAgICBjb25zdCBwbGF5ZXIxZGlzdGFuY2VUb1RhcmdldFkgPSBwbGF5ZXIxQ2xpY2tZUGVyY2VudE9mV2luZG93IC0gcXVlc3Rpb25zQXJyYXlbcm91bmROdW1iZXJdLnlMb2NhdGlvbjtcblxuXG4gICAgICAgIHBsYXllcjFIeXBvdGVudXNlID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoTWF0aC5wb3cocGxheWVyMWRpc3RhbmNlVG9UYXJnZXRYLCAyKSArIE1hdGgucG93KHBsYXllcjFkaXN0YW5jZVRvVGFyZ2V0WSwgMikpKTtcblxuXG4gICAgICAgIC8vYWRkIHBsYXllciBvbmUgZmxhZ1xuXG4gICAgICAgICRwbGF5ZXIxRmxhZy5jc3Moe1xuICAgICAgICAgICdsZWZ0JzogcGxheWVyMUNsaWNrWFBlcmNlbnRPZldpbmRvdyArICclJyxcbiAgICAgICAgICAndG9wJzogcGxheWVyMUNsaWNrWVBlcmNlbnRPZldpbmRvdyArICclJyxcbiAgICAgICAgICAnZGlzcGxheSc6ICdpbmxpbmUnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vcmV2ZWFsIHBsYXllciAycyB0dXJuIGRpdlxuXG4gICAgICAgICRwbGF5ZXIyc1R1cm4uc2hvdygpO1xuICAgICAgICBtYXBQbGF5YWJsZSA9IGZhbHNlO1xuICAgICAgICBwbGF5ZXIxVHVybiA9IGZhbHNlO1xuXG4gICAgICB9IGVsc2UgaWYgKHBsYXllcjFUdXJuID09PSBmYWxzZSkge1xuXG4gICAgICAgIC8vcGxheWVyIDIgY2xpY2sgY29vcmRpbmF0ZXNcbiAgICAgICAgcGxheWVyMkNsaWNrWCA9IGUucGFnZVggLSAkKGUudGFyZ2V0KS5wb3NpdGlvbigpLmxlZnQ7XG4gICAgICAgIHBsYXllcjJDbGlja1kgPSBlLnBhZ2VZIC0gJChlLnRhcmdldCkucG9zaXRpb24oKS50b3A7XG5cbiAgICAgICAgLy9jb252ZXJ0IHBsYXllciAyIGNsaWNrIHRvIHBlcmNlbnRhZ2VcblxuICAgICAgICBjb25zdCBwbGF5ZXIyQ2xpY2tYUGVyY2VudE9mV2luZG93ID0gKHBsYXllcjJDbGlja1ggLyAkbWFwLndpZHRoKCkpKjEwMDtcbiAgICAgICAgY29uc3QgcGxheWVyMkNsaWNrWVBlcmNlbnRPZldpbmRvdyA9IChwbGF5ZXIyQ2xpY2tZIC8gJG1hcC5oZWlnaHQoKSkqMTAwO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKHBsYXllcjJDbGlja1hQZXJjZW50T2ZXaW5kb3cpO1xuICAgICAgICBjb25zb2xlLmxvZyhwbGF5ZXIyQ2xpY2tZUGVyY2VudE9mV2luZG93KTtcblxuXG4gICAgICAgIC8vcGxheWVyIDIgZGlzdGFuY2UgdG8gdGFyZ2V0XG5cbiAgICAgICAgY29uc3QgcGxheWVyMmRpc3RhbmNlVG9UYXJnZXRYID0gIHBsYXllcjJDbGlja1hQZXJjZW50T2ZXaW5kb3cgLSBxdWVzdGlvbnNBcnJheVtyb3VuZE51bWJlcl0ueExvY2F0aW9uO1xuXG4gICAgICAgIGNvbnN0IHBsYXllcjJkaXN0YW5jZVRvVGFyZ2V0WSA9IHBsYXllcjJDbGlja1lQZXJjZW50T2ZXaW5kb3cgLSBxdWVzdGlvbnNBcnJheVtyb3VuZE51bWJlcl0ueUxvY2F0aW9uO1xuXG4gICAgICAgIHBsYXllcjJIeXBvdGVudXNlID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoTWF0aC5wb3cocGxheWVyMmRpc3RhbmNlVG9UYXJnZXRYLCAyKSArIE1hdGgucG93KHBsYXllcjJkaXN0YW5jZVRvVGFyZ2V0WSwgMikpKTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZGlzdGFuY2UgZnJvbSB0YXJnZXQgJyArIHBsYXllcjJIeXBvdGVudXNlKTtcblxuICAgICAgICAvLyBhZGQgcGxheWVyIDIgZmxhZ1xuICAgICAgICAkcGxheWVyMkZsYWcuY3NzKHtcbiAgICAgICAgICAnbGVmdCc6IHBsYXllcjJDbGlja1hQZXJjZW50T2ZXaW5kb3cgKyAnJScsXG4gICAgICAgICAgJ3RvcCc6IHBsYXllcjJDbGlja1lQZXJjZW50T2ZXaW5kb3cgKyAnJScsXG4gICAgICAgICAgJ2Rpc3BsYXknOiAnaW5saW5lJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBXaW4gcm91bmQgbG9naWNcbiAgICAgICAgaWYgKHBsYXllcjFIeXBvdGVudXNlIDwgcGxheWVyMkh5cG90ZW51c2UpIHtcblxuICAgICAgICAgIHBsYXllck9uZVNjb3JlICsrO1xuICAgICAgICB9IGVsc2UgaWZcbiAgICAgICAgKHBsYXllcjFIeXBvdGVudXNlID09PSBwbGF5ZXIySHlwb3RlbnVzZSkge1xuICAgICAgICAgIHBsYXllck9uZVNjb3JlICsrO1xuICAgICAgICAgIHBsYXllclR3b1Njb3JlICsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBsYXllclR3b1Njb3JlICsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcGxheWVyMURpc3RhbmNlRnJvbVRhcmdldEluTSA9ICgxMDAwIC8gNikqIHBsYXllcjFIeXBvdGVudXNlO1xuICAgICAgICBwbGF5ZXIyRGlzdGFuY2VGcm9tVGFyZ2V0SW5NID0gKDEwMDAgLyA2KSogcGxheWVyMkh5cG90ZW51c2U7XG5cblxuICAgICAgICAvL3JldmVhbCB0YXJnZXQgbG9jYXRpb25cblxuICAgICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAgICAgJGFuc3dlckxvY2F0aW9uLmNzcyh7XG4gICAgICAgICAgICAnbGVmdCc6IChxdWVzdGlvbnNBcnJheVtyb3VuZE51bWJlcl0ueExvY2F0aW9uKS0gJChlLnRhcmdldCkucG9zaXRpb24oKS5sZWZ0ICsgJyUnLFxuICAgICAgICAgICAgJ3RvcCc6IChxdWVzdGlvbnNBcnJheVtyb3VuZE51bWJlcl0ueUxvY2F0aW9uKS0gJChlLnRhcmdldCkucG9zaXRpb24oKS50b3AgKyAnJScsXG4gICAgICAgICAgICAnZGlzcGxheSc6ICdpbmxpbmUnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgIC8vcmV2ZWFsIGVuZCBvZiByb3VuZCBkaXZcbiAgICAgICAgc2V0VGltZW91dCggKCkgPT4ge1xuICAgICAgICAgIG1hcFBsYXlhYmxlID0gZmFsc2U7XG4gICAgICAgICAgJGVuZE9mUm91bmQuc2hvdygpO1xuXG4gICAgICAgICAgcGxheWVyMURpc3RhbmNlRnJvbVRhcmdldEluTSA9IE1hdGgucm91bmQocGxheWVyMURpc3RhbmNlRnJvbVRhcmdldEluTSk7XG4gICAgICAgICAgcGxheWVyMkRpc3RhbmNlRnJvbVRhcmdldEluTSA9IE1hdGgucm91bmQocGxheWVyMkRpc3RhbmNlRnJvbVRhcmdldEluTSk7XG5cbiAgICAgICAgICBwbGF5ZXJPbmVPdmVyYWxsRGlzdGFuY2UgKz0gcGxheWVyMURpc3RhbmNlRnJvbVRhcmdldEluTTtcbiAgICAgICAgICBwbGF5ZXJUd29PdmVyYWxsRGlzdGFuY2UgKz0gcGxheWVyMkRpc3RhbmNlRnJvbVRhcmdldEluTTtcblxuICAgICAgICAgICRwMURpc3RhbmNlQXdheS5odG1sKHBsYXllcjFEaXN0YW5jZUZyb21UYXJnZXRJbk0pO1xuICAgICAgICAgICRwMkRpc3RhbmNlQXdheS5odG1sKHBsYXllcjJEaXN0YW5jZUZyb21UYXJnZXRJbk0pO1xuXG4gICAgICAgICAgJHBsYXllcjFTY29yZS50ZXh0KHBsYXllck9uZVNjb3JlKTtcbiAgICAgICAgICAkcGxheWVyMlNjb3JlLnRleHQocGxheWVyVHdvU2NvcmUpO1xuXG4gICAgICAgICAgJHAxT3ZlcmFsbERpc3RhbmNlLnRleHQocGxheWVyT25lT3ZlcmFsbERpc3RhbmNlKTtcbiAgICAgICAgICAkcDJPdmVyYWxsRGlzdGFuY2UudGV4dChwbGF5ZXJUd29PdmVyYWxsRGlzdGFuY2UpO1xuXG5cbiAgICAgICAgfSwgMjAwMCk7XG5cbiAgICAgICAgLy8gY29uc29sZS5sb2cocm91bmRRdWVzdGlvbk5hbWUpO1xuXG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuXG5cbiAgJHBsYXllcjJzVHVybkJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgbWFwUGxheWFibGUgPSB0cnVlO1xuICAgICRwbGF5ZXIyc1R1cm4uaGlkZSgpO1xuICB9KTtcblxuXG5cbiAgLy9jbGljayBvbiBOZXh0IFJvdW5kIGJ1dHRvblxuICAkbmV4dFJvdW5kQnV0dG9uLm9uKCdjbGljaycsICgpID0+IHtcblxuICAgICRlbmRPZlJvdW5kLmhpZGUoKTtcbiAgICAkYW5zd2VyTG9jYXRpb24uaGlkZSgpO1xuICAgICRwbGF5ZXIxRmxhZy5oaWRlKCk7XG4gICAgJHBsYXllcjJGbGFnLmhpZGUoKTtcblxuICAgIHJvdW5kTnVtYmVyKys7XG5cblxuICAgIGlmIChyb3VuZE51bWJlciA+PSBxdWVzdGlvbnNBcnJheS5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdlbmQgZ2FtZSBzZXF1ZW5jZScpO1xuICAgICAgJGVuZE9mR2FtZS5zaG93KCk7XG4gICAgICAkcGxheWVyMVNjb3JlLnRleHQocGxheWVyT25lU2NvcmUpO1xuICAgICAgJHBsYXllcjJTY29yZS50ZXh0KHBsYXllclR3b1Njb3JlKTtcblxuICAgICAgJHAxT3ZlcmFsbERpc3RhbmNlLnRleHQocGxheWVyT25lT3ZlcmFsbERpc3RhbmNlKTtcbiAgICAgICRwMk92ZXJhbGxEaXN0YW5jZS50ZXh0KHBsYXllclR3b092ZXJhbGxEaXN0YW5jZSk7XG5cbiAgICAgIGlmIChwbGF5ZXJPbmVTY29yZSA+IHBsYXllclR3b1Njb3JlKSB7XG4gICAgICAgIHdpbm5lciA9ICdQbGF5ZXIgT25lJztcbiAgICAgIH0gZWxzZSBpZiAocGxheWVyT25lU2NvcmUgPT09IHBsYXllclR3b1Njb3JlKSB7XG4gICAgICAgIHdpbm5lciA9ICdJdFxcJ3MgYSBUaWUhJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbm5lciA9ICdQbGF5ZXIgVHdvJztcbiAgICAgIH1cbiAgICAgICR3aW5uZXIudGV4dCh3aW5uZXIpO1xuICAgICAgJHBsYXlBZ2FpbkJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICRlbmRPZkdhbWUuaGlkZSgpO1xuICAgICAgICAkd2VsY29tZS5zaG93KCk7XG4gICAgICAgIHJvdW5kTnVtYmVyID0gMDtcbiAgICAgICAgcGxheWVyT25lT3ZlcmFsbERpc3RhbmNlID0gMDtcbiAgICAgICAgcGxheWVyVHdvT3ZlcmFsbERpc3RhbmNlID0gMDtcbiAgICAgICAgcGxheWVyT25lU2NvcmUgPSAwO1xuICAgICAgICBwbGF5ZXJUd29TY29yZSA9IDA7XG4gICAgICB9KTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKHJvdW5kTnVtYmVyKTtcbiAgICAgIHJvdW5kUXVlc3Rpb25OYW1lID0gcXVlc3Rpb25zQXJyYXlbcm91bmROdW1iZXJdLm5hbWU7XG4gICAgICBwbGF5ZXIxVHVybiA9IHRydWU7XG4gICAgICAkcm91bmRRdWVzdGlvbi50ZXh0KHJvdW5kUXVlc3Rpb25OYW1lKTtcblxuICAgICAgc2V0VGltZW91dCggKCkgPT4ge1xuICAgICAgICAkcXVlc3Rpb24uY3NzKHtcbiAgICAgICAgICAnZGlzcGxheSc6ICdpbmxpbmUnXG4gICAgICAgIH0pO1xuICAgICAgfSwgMjUwKTtcbiAgICB9XG4gIH0pO1xuXG59KTtcblxuXG5cblxuXG5cbi8vSWYgcGxheWVyMSBjbGlja3Mgb24gdGhlIG8yIGNvbnNvbGUubG9nICdCdWxsc2V5ZSEnXG4vLyBpZiAocGxheWVyMUNsaWNrWFBlcmNlbnRPZldpbmRvdyA9PT0gcXVlc3Rpb25zQXJyYXlbcm91bmROdW1iZXJdLnhMb2NhdGlvbiAmJiBwbGF5ZXIxQ2xpY2tZUGVyY2VudE9mV2luZG93ID09PSBxdWVzdGlvbnNBcnJheVtyb3VuZE51bWJlcl0ueUxvY2F0aW9uKSB7XG4vLyAgIGNvbnNvbGUubG9nKCdidWxsc2V5ZSEnKTtcbi8vIH1cbi8vXG4vLyBpZiAocGxheWVyMUNsaWNrWFBlcmNlbnRPZldpbmRvdyA9PT0gYnVja2luZ2hhbVBhbGFjZU9iai54TG9jYXRpb24gJiYgYnVja2luZ2hhbVBhbGFjZU9iai55TG9jYXRpb24pIHtcbi8vICAgY29uc29sZS5sb2coJ0JlaGF2ZSBQaGlsbGlwJyk7XG4vLyB9XG4iXX0=
