"use strict";$(function(){function t(){W=setInterval(function(){!0===Z&&(_--,h.html(_),0===_&&(clearInterval(W),h.hide(),d.show(),H=!1,!0===j?K+=5e3:N+=5e3))},1e3)}console.log("JS Loaded");var e=$(".map"),o=$(".welcome"),n=$(".map-select"),a=$(".chosen-map"),i=$(".quiz-select"),l=$(".chosen-quiz"),s=$(".start-game-button"),c=$(".question"),r=$(".round-question"),u=$(".start-round-button"),h=$(".countdown-timer"),d=$(".time-up"),p=$(".countdown-next-button"),f=$(".player-one-flag"),g=$(".player-two-flag"),w=$(".player-twos-turn"),m=$(".player-twos-turn-button"),v=$(".answer-location"),y=$(".end-of-round"),x=$(".p1-distance-away"),q=$(".p2-distance-away"),M=$(".player-1-score"),k=$(".player-2-score"),L=$(".next-round-button"),T=$(".end-of-game"),b=$(".p1-overall-distance-from-targets"),z=$(".p2-overall-distance-from-targets"),C=$(".winner"),I=$(".play-again-button"),P=null,X=null,Y=null,A=0,J=0,O=0,S=0,j=!0,B=0,D=0,E=0,F=0,G=0,H=!1,K=0,N=0,Q=0,R=0,U="",V=0;setTimeout(function(){o.show(),n.on("change",function(t){X=$(t.target).val();var o=$(".map-select option[value="+X+"]").html();a.text(o),e.removeAttr("class").addClass("map").addClass(X),i.removeClass("selected").filter("."+X).addClass("selected")}),i.on("change",function(t){P=$(t.target).val(),console.log("quiz select array in event listener",i),console.log(X);var e=$(".quiz-select."+X+" option[value="+P+"]").html();l.text(e),V=window.questions[X][P]})},1e3),s.on("click",function(){if(!X||!P)return!1;o.hide(),Y=V[B].name,setTimeout(function(){r.text(Y),console.log(Y),c.show()},250)});var W=null,Z=!1,_=30;p.on("click",function(){!0===j?(w.show(),d.hide(),j=!1):(y.show(),d.hide())}),u.on("click",function(){c.hide(),H=!0,Z=!0,_=30,h.show(),t(),Z=!0}),e.on("click",function(t){if(!0===H)if(Z=!1,clearInterval(W),!0===j){A=t.pageX-$(t.target).position().left,J=t.pageY-$(t.target).position().top;var o=A/e.width()*100,n=J/e.height()*100;console.log(o),console.log(n),console.log("questions array [0]",V[0]);var a=o-V[B].xLocation,i=n-V[B].yLocation;D=Math.floor(Math.sqrt(Math.pow(a,2)+Math.pow(i,2))),f.css({left:o+"%",top:n+"%",display:"inline"}),w.show(),H=!1,j=!1}else if(!1===j){O=t.pageX-$(t.target).position().left,S=t.pageY-$(t.target).position().top;var l=O/e.width()*100,s=S/e.height()*100;console.log(l),console.log(s);var c=l-V[B].xLocation,r=s-V[B].yLocation;E=Math.floor(Math.sqrt(Math.pow(c,2)+Math.pow(r,2))),g.css({left:l+"%",top:s+"%",display:"inline"}),D<E?K++:D===E?(K++,N++):N++,F=1e3/6*D,G=1e3/6*E,setTimeout(function(){v.css({left:V[B].xLocation-$(t.target).position().left+"%",top:V[B].yLocation-$(t.target).position().top+"%",display:"inline"})},1e3),setTimeout(function(){H=!1,y.show(),F=Math.round(F),G=Math.round(G),Q+=F,R+=G,x.html(F),q.html(G),M.text(K),k.text(N),b.text(Q),z.text(R)},2e3)}}),m.on("click",function(){H=!0,w.hide(),h.show(),_=30,Z=!0,t()}),L.on("click",function(){y.hide(),v.hide(),f.hide(),g.hide(),B++,B>=V.length?(console.log("end game sequence"),T.show(),M.text(K),k.text(N),b.text(Q),z.text(R),U=K>N?"Player One":K===N?"It's a Tie!":"Player Two",C.text(U),I.on("click",function(){T.hide(),o.show(),B=0,Q=0,R=0,K=0,N=0})):(console.log(B),Y=V[B].name,j=!0,r.text(Y),setTimeout(function(){c.css({display:"inline"})},250))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyIkIiwiJGNvdW50ZG93blRpbWVyIiwiY2xlYXJJbnRlcnZhbCIsInRpbWVySWQiLCJoaWRlIiwiJHRpbWVVcCIsIm1hcFBsYXlhYmxlIiwiaHRtbCIsInRpbWVSZW1haW5pbmciLCJwbGF5ZXJPbmVTY29yZSIsInBsYXllclR3b1Njb3JlIiwic2hvdyIsInBsYXllcjFUdXJuIiwiY29uc29sZSIsImxvZyIsIiRtYXAiLCIkbWFwU2VsZWN0IiwiJHdlbGNvbWUiLCIkY2hvc2VuTWFwIiwiJHF1aXpTZWxlY3QiLCIkY2hvc2VuUXVpeiIsIiRzdGFydEdhbWVCdXR0b24iLCIkcXVlc3Rpb24iLCIkcm91bmRRdWVzdGlvbiIsIiRzdGFydFJvdW5kQnV0dG9uIiwiJGNvdW50ZG93bk5leHRCdXR0b24iLCIkcGxheWVyMUZsYWciLCIkcGxheWVyMkZsYWciLCIkcGxheWVyMnNUdXJuIiwiJHBsYXllcjJzVHVybkJ1dHRvbiIsIiRhbnN3ZXJMb2NhdGlvbiIsIiRlbmRPZlJvdW5kIiwiJHAxRGlzdGFuY2VBd2F5IiwiJHAyRGlzdGFuY2VBd2F5IiwiJHBsYXllcjFTY29yZSIsIiRwbGF5ZXIyU2NvcmUiLCIkbmV4dFJvdW5kQnV0dG9uIiwiJGVuZE9mR2FtZSIsIiRwMU92ZXJhbGxEaXN0YW5jZSIsIiRwMk92ZXJhbGxEaXN0YW5jZSIsIiRwbGF5QWdhaW5CdXR0b24iLCJjaXR5Iiwicm91bmRRdWVzdGlvbk5hbWUiLCJwbGF5ZXIxQ2xpY2tZIiwicGxheWVyMUNsaWNrWCIsInBsYXllcjJDbGlja1kiLCJyb3VuZE51bWJlciIsInBsYXllcjFIeXBvdGVudXNlIiwicGxheWVyMkh5cG90ZW51c2UiLCJwbGF5ZXIyRGlzdGFuY2VGcm9tVGFyZ2V0SW5NIiwicGxheWVyVHdvT3ZlcmFsbERpc3RhbmNlIiwicXVlc3Rpb25zQXJyYXkiLCJzZXRUaW1lb3V0IiwiZSIsInRhcmdldCIsInZhbCIsImNob3NlbkNpdHkiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiZGlmZmljdWx0eSIsImNob3NlbkRpZmZpY3VsdHkiLCJ0ZXh0Iiwid2luZG93IiwicXVlc3Rpb25zIiwib24iLCJuYW1lIiwic2V0SW50ZXJ2YWwiLCJ0aW1lcklzUnVubmluZyIsInN0YXJ0Q291bnRkb3duVGltZXIiLCJwbGF5ZXIxQ2xpY2tYUGVyY2VudE9mV2luZG93IiwicGFnZVgiLCJwb3NpdGlvbiIsImxlZnQiLCJwYWdlWSIsInRvcCIsIndpZHRoIiwicGxheWVyMWRpc3RhbmNlVG9UYXJnZXRZIiwicGxheWVyMUNsaWNrWVBlcmNlbnRPZldpbmRvdyIsInBsYXllcjFkaXN0YW5jZVRvVGFyZ2V0WCIsInhMb2NhdGlvbiIsInlMb2NhdGlvbiIsIk1hdGgiLCJmbG9vciIsInNxcnQiLCJwb3ciLCJjc3MiLCJwbGF5ZXIyQ2xpY2tYIiwiZGlzcGxheSIsInBsYXllcjJDbGlja1hQZXJjZW50T2ZXaW5kb3ciLCJwbGF5ZXIyQ2xpY2tZUGVyY2VudE9mV2luZG93IiwicGxheWVyMmRpc3RhbmNlVG9UYXJnZXRZIiwiaGVpZ2h0IiwicGxheWVyMURpc3RhbmNlRnJvbVRhcmdldEluTSIsInJvdW5kIiwicGxheWVyT25lT3ZlcmFsbERpc3RhbmNlIiwibGVuZ3RoIiwid2lubmVyIiwiJHdpbm5lciJdLCJtYXBwaW5ncyI6IllBQUFBLEdBQUUsV0EwSU1DLFFBQUFBLEtBR0VDLEVBQUFBLFlBQWNDLFlBQ0VDLElBQWhCSCxJQUNBSSxJQUNBQyxFQUFjQyxLQUFkQyxHQUVvQixJQUFsQkMsSUFDRFAsY0FBTUMsR0FDTE8sRUFBQUEsT0FDREwsRUFBQU0sT0FDRkwsR0FBQSxHQUNGLElBQUFNLEVBaEJISCxHQUFBLElBYVFDLEdBQWtCLE9BVXhCTCxLQTdKSlEsUUFBUUMsSUFBSSxZQUFaRCxJQUFBQSxHQUFZYixFQUFBLFFBRU5lLEVBQVNmLEVBQUYsWUFHUGdCLEVBQWFoQixFQUFFLGVBRGZpQixFQUFhakIsRUFBQSxlQUNiZ0IsRUFBZWhCLEVBQUEsZ0JBQ2ZrQixFQUFl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Y1osRUFDWixhQURGRCxJQUFBQyxFQURGLGNBNUNKLGFBMEJJdUYsRUFBUXBDLEtBQUttQyxHQUNieEQsRUFBaUJ3QixHQUFHLFFBQVMsV0FDM0IzQixFQUFXakMsT0FDWGEsRUFBU04sT0FDVG1DLEVBQWMsRUFDZGdELEVBQTJCLEVBQzNCNUMsRUFBMkIsRUFDM0J6QyxFQUFpQixFQUNqQkMsRUFBaUIsTUFLbkJHLFFBQVFDLElBQUlnQyxHQUNaSixFQUFvQlMsRUFBZUwsR0FBYW1CLEtBQ2hEckQsR0FBYyxFQUNkVyxFQUFlc0MsS0FBS25CLEdBRXBCVSxXQUFZLFdBQ1Y5QixFQUFVK0QsS0FDUkUsUUFBVyxZQUVaIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoKCkgPT4ge1xuICBjb25zb2xlLmxvZygnSlMgTG9hZGVkJyk7XG5cbiAgY29uc3QgJG1hcCA9ICQoJy5tYXAnKTtcblxuICBjb25zdCAkd2VsY29tZSA9ICQoJy53ZWxjb21lJyk7XG4gIGNvbnN0ICRtYXBTZWxlY3QgPSAkKCcubWFwLXNlbGVjdCcpO1xuICBjb25zdCAkY2hvc2VuTWFwID0gJCgnLmNob3Nlbi1tYXAnKTtcbiAgY29uc3QgJHF1aXpTZWxlY3QgPSAkKCcucXVpei1zZWxlY3QnKTtcbiAgY29uc3QgJGNob3NlblF1aXogPSAkKCcuY2hvc2VuLXF1aXonKTtcbiAgY29uc3QgJHN0YXJ0R2FtZUJ1dHRvbiA9ICQoJy5zdGFydC1nYW1lLWJ1dHRvbicpO1xuICBjb25zdCAkcXVlc3Rpb24gPSAkKCcucXVlc3Rpb24nKTtcbiAgY29uc3QgJHJvdW5kUXVlc3Rpb24gPSAkKCcucm91bmQtcXVlc3Rpb24nKTtcbiAgY29uc3QgJHN0YXJ0Um91bmRCdXR0b24gPSAkKCcuc3RhcnQtcm91bmQtYnV0dG9uJyk7XG4gIGNvbnN0ICRjb3VudGRvd25UaW1lciA9ICQoJy5jb3VudGRvd24tdGltZXInKTtcbiAgY29uc3QgJHRpbWVVcCA9ICQoJy50aW1lLXVwJyk7XG4gIGNvbnN0ICRjb3VudGRvd25OZXh0QnV0dG9uID0gJCgnLmNvdW50ZG93bi1uZXh0LWJ1dHRvbicpO1xuICBjb25zdCAkcGxheWVyMUZsYWcgPSAkKCcucGxheWVyLW9uZS1mbGFnJyk7XG4gIGNvbnN0ICRwbGF5ZXIyRmxhZyA9ICQoJy5wbGF5ZXItdHdvLWZsYWcnKTtcbiAgY29uc3QgJHBsYXllcjJzVHVybiA9ICQoJy5wbGF5ZXItdHdvcy10dXJuJyk7XG4gIGNvbnN0ICRwbGF5ZXIyc1R1cm5CdXR0b24gPSAkKCcucGxheWVyLXR3b3MtdHVybi1idXR0b24nKTtcbiAgY29uc3QgJGFuc3dlckxvY2F0aW9uID0gJCgnLmFuc3dlci1sb2NhdGlvbicpO1xuICBjb25zdCAkZW5kT2ZSb3VuZCA9ICQoJy5lbmQtb2Ytcm91bmQnKTtcbiAgY29uc3QgJHAxRGlzdGFuY2VBd2F5ID0gJCgnLnAxLWRpc3RhbmNlLWF3YXknKTtcbiAgY29uc3QgJHAyRGlzdGFuY2VBd2F5ID0gJCgnLnAyLWRpc3RhbmNlLWF3YXknKTtcbiAgY29uc3QgJHBsYXllcjFTY29yZSA9ICQoJy5wbGF5ZXItMS1zY29yZScpO1xuICBjb25zdCAkcGxheWVyMlNjb3JlID0gJCgnLnBsYXllci0yLXNjb3JlJyk7XG4gIGNvbnN0ICRuZXh0Um91bmRCdXR0b24gPSAkKCcubmV4dC1yb3VuZC1idXR0b24nKTtcbiAgY29uc3QgJGVuZE9mR2FtZSA9ICQoJy5lbmQtb2YtZ2FtZScpO1xuICBjb25zdCAkcDFPdmVyYWxsRGlzdGFuY2UgPSAkKCcucDEtb3ZlcmFsbC1kaXN0YW5jZS1mcm9tLXRhcmdldHMnKTtcbiAgY29uc3QgJHAyT3ZlcmFsbERpc3RhbmNlID0gJCgnLnAyLW92ZXJhbGwtZGlzdGFuY2UtZnJvbS10YXJnZXRzJyk7XG4gIGNvbnN0ICR3aW5uZXIgPSAkKCcud2lubmVyJyk7XG4gIGNvbnN0ICRwbGF5QWdhaW5CdXR0b24gPSAkKCcucGxheS1hZ2Fpbi1idXR0b24nKTtcblxuICBsZXQgZGlmZmljdWx0eSA9IG51bGw7XG4gIGxldCBjaXR5ID0gbnVsbDtcblxuICBsZXQgcm91bmRRdWVzdGlvbk5hbWUgPSBudWxsO1xuXG4gIGxldCBwbGF5ZXIxQ2xpY2tYID0gMDtcbiAgbGV0IHBsYXllcjFDbGlja1kgPSAwO1xuICBsZXQgcGxheWVyMkNsaWNrWCA9IDA7XG4gIGxldCBwbGF5ZXIyQ2xpY2tZID0gMDtcblxuICBsZXQgcGxheWVyMVR1cm4gPSB0cnVlO1xuICBsZXQgcm91bmROdW1iZXIgPSAwO1xuICBsZXQgcGxheWVyMUh5cG90ZW51c2UgPSAwO1xuICBsZXQgcGxheWVyMkh5cG90ZW51c2UgPSAwO1xuICBsZXQgcGxheWVyMURpc3RhbmNlRnJvbVRhcmdldEluTSA9IDA7XG4gIGxldCBwbGF5ZXIyRGlzdGFuY2VGcm9tVGFyZ2V0SW5NID0gMDtcblxuICBsZXQgbWFwUGxheWFibGUgPSBmYWxzZTtcblxuICBsZXQgcGxheWVyT25lU2NvcmUgPSAwO1xuICBsZXQgcGxheWVyVHdvU2NvcmUgPSAwO1xuXG4gIGxldCBwbGF5ZXJPbmVPdmVyYWxsRGlzdGFuY2UgPSAwO1xuICBsZXQgcGxheWVyVHdvT3ZlcmFsbERpc3RhbmNlID0gMDtcblxuICBsZXQgd2lubmVyID0gJyc7XG5cbiAgLy8gd2hpY2ggc2V0IG9mIHF1ZXN0aW9ucyB0byB1c2U/XG5cbiAgbGV0IHF1ZXN0aW9uc0FycmF5ID0gMDtcblxuICAvL0dldCB0aGUgbmFtZSBvZiB0aGUgbGFuZG1hcmsgZm9yIGVhY2ggcXVlc3Rpb25cblxuXG4gIC8vd2VsY29tZSBwYWdlXG5cblxuICBzZXRUaW1lb3V0KCgpID0+IHtcblxuICAgICR3ZWxjb21lLnNob3coKTtcblxuICAgICRtYXBTZWxlY3Qub24oJ2NoYW5nZScsIChlKSA9PiB7XG4gICAgICBjaXR5ID0gJChlLnRhcmdldCkudmFsKCk7XG4gICAgICBjb25zdCBjaG9zZW5DaXR5ID0gJChgLm1hcC1zZWxlY3Qgb3B0aW9uW3ZhbHVlPSR7Y2l0eX1dYCkuaHRtbCgpO1xuXG4gICAgICAkY2hvc2VuTWFwLnRleHQoY2hvc2VuQ2l0eSk7XG5cbiAgICAgICRtYXAucmVtb3ZlQXR0cignY2xhc3MnKS5hZGRDbGFzcygnbWFwJykuYWRkQ2xhc3MoY2l0eSk7XG5cbiAgICAgICRxdWl6U2VsZWN0XG4gICAgICAgIC5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKVxuICAgICAgICAuZmlsdGVyKGAuJHtjaXR5fWApXG4gICAgICAgIC5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcbiAgICB9KTtcblxuICAgICRxdWl6U2VsZWN0Lm9uKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgZGlmZmljdWx0eSA9ICQoZS50YXJnZXQpLnZhbCgpO1xuICAgICAgY29uc29sZS5sb2coJ3F1aXogc2VsZWN0IGFycmF5IGluIGV2ZW50IGxpc3RlbmVyJywgJHF1aXpTZWxlY3QpO1xuICAgICAgY29uc29sZS5sb2coY2l0eSk7XG5cbiAgICAgIGNvbnN0IGNob3NlbkRpZmZpY3VsdHkgPSAkKGAucXVpei1zZWxlY3QuJHtjaXR5fSBvcHRpb25bdmFsdWU9JHtkaWZmaWN1bHR5fV1gKS5odG1sKCk7XG5cbiAgICAgICRjaG9zZW5RdWl6LnRleHQoY2hvc2VuRGlmZmljdWx0eSk7XG5cbiAgICAgIHF1ZXN0aW9uc0FycmF5ID0gd2luZG93LnF1ZXN0aW9uc1tjaXR5XVtkaWZmaWN1bHR5XTtcblxuXG4gICAgfSk7XG4gIH0sIDEwMDApO1xuXG4gIC8vY2xpY2sgc3RhcnQgZ2FtZSBidXR0b24gdG8gaGlkZSB0aGUgd2VsY29tZSBkaXYgYW5kIHNob3cgdGhlIGZpcnN0IHF1ZXN0aW9uXG5cbiAgJHN0YXJ0R2FtZUJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgaWYoIWNpdHkgfHwgIWRpZmZpY3VsdHkpXG4gICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAkd2VsY29tZS5oaWRlKCk7XG5cbiAgICByb3VuZFF1ZXN0aW9uTmFtZSA9IHF1ZXN0aW9uc0FycmF5W3JvdW5kTnVtYmVyXS5uYW1lO1xuXG5cbiAgICAvLyBxdWVzdGlvbiBkaXYgcG9wcyB1cFxuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvL2dldCB0aGUgbmFtZSBvZiB0aGUgbGFuZG1hcmsgZnJvbSB0aGUgbmFtZSB2YWx1ZSBpbiB0aGUgb2JqZWN0IGluIHRoZSBhcnJheS5cbiAgICAgICRyb3VuZFF1ZXN0aW9uLnRleHQocm91bmRRdWVzdGlvbk5hbWUpO1xuICAgICAgY29uc29sZS5sb2cocm91bmRRdWVzdGlvbk5hbWUpO1xuICAgICAgJHF1ZXN0aW9uLnNob3coKTtcbiAgICB9LCAyNTApO1xuICB9KTtcblxuICAvL2NvdW50ZG93biB0aW1lclxuXG5cbiAgbGV0IHRpbWVySWQgPSBudWxsO1xuICBsZXQgdGltZXJJc1J1bm5pbmcgPSBmYWxzZTtcbiAgbGV0IHRpbWVSZW1haW5pbmcgPSAzMDtcblxuICBmdW5jdGlvbiBzdGFydENvdW50ZG93blRpbWVyKCkge1xuXG5cbiAgICB0aW1lcklkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgaWYgKHRpbWVySXNSdW5uaW5nID09PSB0cnVlKSB7XG4gICAgICAgIHRpbWVSZW1haW5pbmcgLS07XG4gICAgICAgICRjb3VudGRvd25UaW1lci5odG1sKHRpbWVSZW1haW5pbmcpO1xuXG4gICAgICAgIGlmICh0aW1lUmVtYWluaW5nID09PSAwKSB7XG4gICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcklkKTtcbiAgICAgICAgICAkY291bnRkb3duVGltZXIuaGlkZSgpO1xuICAgICAgICAgICR0aW1lVXAuc2hvdygpO1xuICAgICAgICAgIG1hcFBsYXlhYmxlID0gZmFsc2U7XG4gICAgICAgICAgaWYgKHBsYXllcjFUdXJuID09PSB0cnVlKSB7XG4gICAgICAgICAgICBwbGF5ZXJPbmVTY29yZSArPSA1MDAwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwbGF5ZXJUd29TY29yZSArPSA1MDAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIDEwMDApO1xuICB9XG5cbiAgJGNvdW50ZG93bk5leHRCdXR0b24ub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIGlmIChwbGF5ZXIxVHVybiA9PT0gdHJ1ZSkge1xuICAgICAgJHBsYXllcjJzVHVybi5zaG93KCk7XG4gICAgICAkdGltZVVwLmhpZGUoKTtcbiAgICAgIHBsYXllcjFUdXJuID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgICRlbmRPZlJvdW5kLnNob3coKTtcbiAgICAgICR0aW1lVXAuaGlkZSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy9IaWRlIHF1ZXN0aW9uIGRpdlxuICAkc3RhcnRSb3VuZEJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgJHF1ZXN0aW9uLmhpZGUoKTtcbiAgICBtYXBQbGF5YWJsZSA9IHRydWU7XG4gICAgdGltZXJJc1J1bm5pbmcgPSB0cnVlO1xuICAgIHRpbWVSZW1haW5pbmcgPSAzMDtcbiAgICAkY291bnRkb3duVGltZXIuc2hvdygpO1xuICAgIHN0YXJ0Q291bnRkb3duVGltZXIoKTtcbiAgICB0aW1lcklzUnVubmluZyA9IHRydWU7XG5cbiAgfSk7XG5cblxuICAvL1BsYXllcjFDbGljayBFdmVudFxuICAkbWFwLm9uKCdjbGljaycsIChlKSA9PiB7XG4gICAgaWYgKG1hcFBsYXlhYmxlID09PSB0cnVlKSB7XG5cbiAgICAgIHRpbWVySXNSdW5uaW5nID0gZmFsc2U7XG4gICAgICBjbGVhckludGVydmFsKHRpbWVySWQpO1xuXG4gICAgICBpZiAocGxheWVyMVR1cm4gPT09IHRydWUpIHtcblxuXG4gICAgICAgIC8vZmluZCBjbGljayBjb29yZGluYXRlcyBpbiBwaXhlbHNcblxuICAgICAgICBwbGF5ZXIxQ2xpY2tYID0gZS5wYWdlWCAtICQoZS50YXJnZXQpLnBvc2l0aW9uKCkubGVmdDtcbiAgICAgICAgcGxheWVyMUNsaWNrWSA9IGUucGFnZVkgLSAkKGUudGFyZ2V0KS5wb3NpdGlvbigpLnRvcDtcblxuICAgICAgICAvL2NvbnZlcnQgcGFnZVggYW5kIHBhZ2VZIHBpeGVscyB0byBwZXJjZW50YWdlIG9mIHBhZ2VcbiAgICAgICAgY29uc3QgcGxheWVyMUNsaWNrWFBlcmNlbnRPZldpbmRvdyA9IChwbGF5ZXIxQ2xpY2tYIC8gJG1hcC53aWR0aCgpKSoxMDA7XG4gICAgICAgIGNvbnN0IHBsYXllcjFDbGlja1lQZXJjZW50T2ZXaW5kb3cgPSAocGxheWVyMUNsaWNrWSAvICRtYXAuaGVpZ2h0KCkpKjEwMDtcblxuICAgICAgICBjb25zb2xlLmxvZyhwbGF5ZXIxQ2xpY2tYUGVyY2VudE9mV2luZG93KTtcbiAgICAgICAgY29uc29sZS5sb2cocGxheWVyMUNsaWNrWVBlcmNlbnRPZldpbmRvdyk7XG5cblxuICAgICAgICAvL0Rpc3RhbmNlIHRvIHRhcmdldFxuICAgICAgICBjb25zb2xlLmxvZygncXVlc3Rpb25zIGFycmF5IFswXScsIHF1ZXN0aW9uc0FycmF5WzBdKTtcbiAgICAgICAgY29uc3QgcGxheWVyMWRpc3RhbmNlVG9UYXJnZXRYID0gIHBsYXllcjFDbGlja1hQZXJjZW50T2ZXaW5kb3cgLSBxdWVzdGlvbnNBcnJheVtyb3VuZE51bWJlcl0ueExvY2F0aW9uO1xuXG5cbiAgICAgICAgY29uc3QgcGxheWVyMWRpc3RhbmNlVG9UYXJnZXRZID0gcGxheWVyMUNsaWNrWVBlcmNlbnRPZldpbmRvdyAtIHF1ZXN0aW9uc0FycmF5W3JvdW5kTnVtYmVyXS55TG9jYXRpb247XG5cblxuICAgICAgICBwbGF5ZXIxSHlwb3RlbnVzZSA9IE1hdGguZmxvb3IoTWF0aC5zcXJ0KE1hdGgucG93KHBsYXllcjFkaXN0YW5jZVRvVGFyZ2V0WCwgMikgKyBNYXRoLnBvdyhwbGF5ZXIxZGlzdGFuY2VUb1RhcmdldFksIDIpKSk7XG5cblxuICAgICAgICAvL2FkZCBwbGF5ZXIgb25lIGZsYWdcblxuICAgICAgICAkcGxheWVyMUZsYWcuY3NzKHtcbiAgICAgICAgICAnbGVmdCc6IHBsYXllcjFDbGlja1hQZXJjZW50T2ZXaW5kb3cgKyAnJScsXG4gICAgICAgICAgJ3RvcCc6IHBsYXllcjFDbGlja1lQZXJjZW50T2ZXaW5kb3cgKyAnJScsXG4gICAgICAgICAgJ2Rpc3BsYXknOiAnaW5saW5lJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvL3JldmVhbCBwbGF5ZXIgMnMgdHVybiBkaXZcblxuICAgICAgICAkcGxheWVyMnNUdXJuLnNob3coKTtcbiAgICAgICAgbWFwUGxheWFibGUgPSBmYWxzZTtcbiAgICAgICAgcGxheWVyMVR1cm4gPSBmYWxzZTtcblxuICAgICAgfSBlbHNlIGlmIChwbGF5ZXIxVHVybiA9PT0gZmFsc2UpIHtcblxuXG4gICAgICAgIC8vcGxheWVyIDIgY2xpY2sgY29vcmRpbmF0ZXNcbiAgICAgICAgcGxheWVyMkNsaWNrWCA9IGUucGFnZVggLSAkKGUudGFyZ2V0KS5wb3NpdGlvbigpLmxlZnQ7XG4gICAgICAgIHBsYXllcjJDbGlja1kgPSBlLnBhZ2VZIC0gJChlLnRhcmdldCkucG9zaXRpb24oKS50b3A7XG5cbiAgICAgICAgLy9jb252ZXJ0IHBsYXllciAyIGNsaWNrIHRvIHBlcmNlbnRhZ2VcblxuICAgICAgICBjb25zdCBwbGF5ZXIyQ2xpY2tYUGVyY2VudE9mV2luZG93ID0gKHBsYXllcjJDbGlja1ggLyAkbWFwLndpZHRoKCkpKjEwMDtcbiAgICAgICAgY29uc3QgcGxheWVyMkNsaWNrWVBlcmNlbnRPZldpbmRvdyA9IChwbGF5ZXIyQ2xpY2tZIC8gJG1hcC5oZWlnaHQoKSkqMTAwO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKHBsYXllcjJDbGlja1hQZXJjZW50T2ZXaW5kb3cpO1xuICAgICAgICBjb25zb2xlLmxvZyhwbGF5ZXIyQ2xpY2tZUGVyY2VudE9mV2luZG93KTtcblxuXG4gICAgICAgIC8vcGxheWVyIDIgZGlzdGFuY2UgdG8gdGFyZ2V0XG5cbiAgICAgICAgY29uc3QgcGxheWVyMmRpc3RhbmNlVG9UYXJnZXRYID0gIHBsYXllcjJDbGlja1hQZXJjZW50T2ZXaW5kb3cgLSBxdWVzdGlvbnNBcnJheVtyb3VuZE51bWJlcl0ueExvY2F0aW9uO1xuXG4gICAgICAgIGNvbnN0IHBsYXllcjJkaXN0YW5jZVRvVGFyZ2V0WSA9IHBsYXllcjJDbGlja1lQZXJjZW50T2ZXaW5kb3cgLSBxdWVzdGlvbnNBcnJheVtyb3VuZE51bWJlcl0ueUxvY2F0aW9uO1xuXG4gICAgICAgIHBsYXllcjJIeXBvdGVudXNlID0gTWF0aC5mbG9vcihNYXRoLnNxcnQoTWF0aC5wb3cocGxheWVyMmRpc3RhbmNlVG9UYXJnZXRYLCAyKSArIE1hdGgucG93KHBsYXllcjJkaXN0YW5jZVRvVGFyZ2V0WSwgMikpKTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZGlzdGFuY2UgZnJvbSB0YXJnZXQgJyArIHBsYXllcjJIeXBvdGVudXNlKTtcblxuICAgICAgICAvLyBhZGQgcGxheWVyIDIgZmxhZ1xuICAgICAgICAkcGxheWVyMkZsYWcuY3NzKHtcbiAgICAgICAgICAnbGVmdCc6IHBsYXllcjJDbGlja1hQZXJjZW50T2ZXaW5kb3cgKyAnJScsXG4gICAgICAgICAgJ3RvcCc6IHBsYXllcjJDbGlja1lQZXJjZW50T2ZXaW5kb3cgKyAnJScsXG4gICAgICAgICAgJ2Rpc3BsYXknOiAnaW5saW5lJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBXaW4gcm91bmQgbG9naWNcbiAgICAgICAgaWYgKHBsYXllcjFIeXBvdGVudXNlIDwgcGxheWVyMkh5cG90ZW51c2UpIHtcblxuICAgICAgICAgIHBsYXllck9uZVNjb3JlICsrO1xuICAgICAgICB9IGVsc2UgaWZcbiAgICAgICAgKHBsYXllcjFIeXBvdGVudXNlID09PSBwbGF5ZXIySHlwb3RlbnVzZSkge1xuICAgICAgICAgIHBsYXllck9uZVNjb3JlICsrO1xuICAgICAgICAgIHBsYXllclR3b1Njb3JlICsrO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHBsYXllclR3b1Njb3JlICsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcGxheWVyMURpc3RhbmNlRnJvbVRhcmdldEluTSA9ICgxMDAwIC8gNikqIHBsYXllcjFIeXBvdGVudXNlO1xuICAgICAgICBwbGF5ZXIyRGlzdGFuY2VGcm9tVGFyZ2V0SW5NID0gKDEwMDAgLyA2KSogcGxheWVyMkh5cG90ZW51c2U7XG5cblxuXG4gICAgICAgIC8vcmV2ZWFsIHRhcmdldCBsb2NhdGlvblxuXG4gICAgICAgIHNldFRpbWVvdXQoICgpID0+IHtcbiAgICAgICAgICAkYW5zd2VyTG9jYXRpb24uY3NzKHtcbiAgICAgICAgICAgICdsZWZ0JzogKHF1ZXN0aW9uc0FycmF5W3JvdW5kTnVtYmVyXS54TG9jYXRpb24pLSAkKGUudGFyZ2V0KS5wb3NpdGlvbigpLmxlZnQgKyAnJScsXG4gICAgICAgICAgICAndG9wJzogKHF1ZXN0aW9uc0FycmF5W3JvdW5kTnVtYmVyXS55TG9jYXRpb24pLSAkKGUudGFyZ2V0KS5wb3NpdGlvbigpLnRvcCArICclJyxcbiAgICAgICAgICAgICdkaXNwbGF5JzogJ2lubGluZSdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMTAwMCk7XG5cbiAgICAgICAgLy9yZXZlYWwgZW5kIG9mIHJvdW5kIGRpdlxuICAgICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAgICAgbWFwUGxheWFibGUgPSBmYWxzZTtcbiAgICAgICAgICAkZW5kT2ZSb3VuZC5zaG93KCk7XG5cbiAgICAgICAgICBwbGF5ZXIxRGlzdGFuY2VGcm9tVGFyZ2V0SW5NID0gTWF0aC5yb3VuZChwbGF5ZXIxRGlzdGFuY2VGcm9tVGFyZ2V0SW5NKTtcbiAgICAgICAgICBwbGF5ZXIyRGlzdGFuY2VGcm9tVGFyZ2V0SW5NID0gTWF0aC5yb3VuZChwbGF5ZXIyRGlzdGFuY2VGcm9tVGFyZ2V0SW5NKTtcblxuICAgICAgICAgIHBsYXllck9uZU92ZXJhbGxEaXN0YW5jZSArPSBwbGF5ZXIxRGlzdGFuY2VGcm9tVGFyZ2V0SW5NO1xuICAgICAgICAgIHBsYXllclR3b092ZXJhbGxEaXN0YW5jZSArPSBwbGF5ZXIyRGlzdGFuY2VGcm9tVGFyZ2V0SW5NO1xuXG4gICAgICAgICAgJHAxRGlzdGFuY2VBd2F5Lmh0bWwocGxheWVyMURpc3RhbmNlRnJvbVRhcmdldEluTSk7XG4gICAgICAgICAgJHAyRGlzdGFuY2VBd2F5Lmh0bWwocGxheWVyMkRpc3RhbmNlRnJvbVRhcmdldEluTSk7XG5cbiAgICAgICAgICAkcGxheWVyMVNjb3JlLnRleHQocGxheWVyT25lU2NvcmUpO1xuICAgICAgICAgICRwbGF5ZXIyU2NvcmUudGV4dChwbGF5ZXJUd29TY29yZSk7XG5cbiAgICAgICAgICAkcDFPdmVyYWxsRGlzdGFuY2UudGV4dChwbGF5ZXJPbmVPdmVyYWxsRGlzdGFuY2UpO1xuICAgICAgICAgICRwMk92ZXJhbGxEaXN0YW5jZS50ZXh0KHBsYXllclR3b092ZXJhbGxEaXN0YW5jZSk7XG5cblxuICAgICAgICB9LCAyMDAwKTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhyb3VuZFF1ZXN0aW9uTmFtZSk7XG5cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gICRwbGF5ZXIyc1R1cm5CdXR0b24ub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIG1hcFBsYXlhYmxlID0gdHJ1ZTtcbiAgICAkcGxheWVyMnNUdXJuLmhpZGUoKTtcbiAgICAkY291bnRkb3duVGltZXIuc2hvdygpO1xuICAgIHRpbWVSZW1haW5pbmcgPSAzMDtcbiAgICB0aW1lcklzUnVubmluZyA9IHRydWU7XG4gICAgc3RhcnRDb3VudGRvd25UaW1lcigpO1xuICB9KTtcblxuXG5cbiAgLy9jbGljayBvbiBOZXh0IFJvdW5kIGJ1dHRvblxuICAkbmV4dFJvdW5kQnV0dG9uLm9uKCdjbGljaycsICgpID0+IHtcblxuICAgICRlbmRPZlJvdW5kLmhpZGUoKTtcbiAgICAkYW5zd2VyTG9jYXRpb24uaGlkZSgpO1xuICAgICRwbGF5ZXIxRmxhZy5oaWRlKCk7XG4gICAgJHBsYXllcjJGbGFnLmhpZGUoKTtcblxuICAgIHJvdW5kTnVtYmVyKys7XG5cblxuICAgIGlmIChyb3VuZE51bWJlciA+PSBxdWVzdGlvbnNBcnJheS5sZW5ndGgpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdlbmQgZ2FtZSBzZXF1ZW5jZScpO1xuICAgICAgJGVuZE9mR2FtZS5zaG93KCk7XG4gICAgICAkcGxheWVyMVNjb3JlLnRleHQocGxheWVyT25lU2NvcmUpO1xuICAgICAgJHBsYXllcjJTY29yZS50ZXh0KHBsYXllclR3b1Njb3JlKTtcblxuICAgICAgJHAxT3ZlcmFsbERpc3RhbmNlLnRleHQocGxheWVyT25lT3ZlcmFsbERpc3RhbmNlKTtcbiAgICAgICRwMk92ZXJhbGxEaXN0YW5jZS50ZXh0KHBsYXllclR3b092ZXJhbGxEaXN0YW5jZSk7XG5cbiAgICAgIGlmIChwbGF5ZXJPbmVTY29yZSA+IHBsYXllclR3b1Njb3JlKSB7XG4gICAgICAgIHdpbm5lciA9ICdQbGF5ZXIgT25lJztcbiAgICAgIH0gZWxzZSBpZiAocGxheWVyT25lU2NvcmUgPT09IHBsYXllclR3b1Njb3JlKSB7XG4gICAgICAgIHdpbm5lciA9ICdJdFxcJ3MgYSBUaWUhJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdpbm5lciA9ICdQbGF5ZXIgVHdvJztcbiAgICAgIH1cbiAgICAgICR3aW5uZXIudGV4dCh3aW5uZXIpO1xuICAgICAgJHBsYXlBZ2FpbkJ1dHRvbi5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICRlbmRPZkdhbWUuaGlkZSgpO1xuICAgICAgICAkd2VsY29tZS5zaG93KCk7XG4gICAgICAgIHJvdW5kTnVtYmVyID0gMDtcbiAgICAgICAgcGxheWVyT25lT3ZlcmFsbERpc3RhbmNlID0gMDtcbiAgICAgICAgcGxheWVyVHdvT3ZlcmFsbERpc3RhbmNlID0gMDtcbiAgICAgICAgcGxheWVyT25lU2NvcmUgPSAwO1xuICAgICAgICBwbGF5ZXJUd29TY29yZSA9IDA7XG4gICAgICB9KTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgIGNvbnNvbGUubG9nKHJvdW5kTnVtYmVyKTtcbiAgICAgIHJvdW5kUXVlc3Rpb25OYW1lID0gcXVlc3Rpb25zQXJyYXlbcm91bmROdW1iZXJdLm5hbWU7XG4gICAgICBwbGF5ZXIxVHVybiA9IHRydWU7XG4gICAgICAkcm91bmRRdWVzdGlvbi50ZXh0KHJvdW5kUXVlc3Rpb25OYW1lKTtcblxuICAgICAgc2V0VGltZW91dCggKCkgPT4ge1xuICAgICAgICAkcXVlc3Rpb24uY3NzKHtcbiAgICAgICAgICAnZGlzcGxheSc6ICdpbmxpbmUnXG4gICAgICAgIH0pO1xuICAgICAgfSwgMjUwKTtcbiAgICB9XG4gIH0pO1xuXG59KTtcbiJdfQ==
